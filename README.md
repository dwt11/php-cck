# 旧项目归档:旅游年卡-旅游直通车-微信二级分销推广会员-汽车租赁-金币提现-司机乘务管理-景点线路乘车预约

# 架构
基于dedeCMS构建,PHP5.2 MYSQL5.5,生命周期2016年9月至2019年11月

## 系统介绍
系统结构分为两大部分：“前台”依托手机端微信软件的“服务号”供消费者使用；“后台”使用电脑端任意主流浏览器软件，供工作人员使用。

“前台”微信端关注服务号公众号后，即可使用。

“后台”通过访问网址http://xxxxx.com，使用管理员分配的有效的用户名和密码进行授权访问。


## 功能介绍
系统提供：会员卡、合伙人、旅游线路、车辆租赁四种商品的销售功能；通过“微信支付”实现交易过程；

“前台”包含：旅游首页、会员卡、合伙人、车辆租赁、旅游线路、新闻公告、会员中心模块。

“后台”包含：会员管理、商品管理、订单管理、预约销售管理、新闻管理、系统管理、统计分析模块。


## 名词解释
会员：会员来源分为两种“微信”、“手工添加”；两种来源的会员可以通过后台的“微信解绑”、“微信绑定”进行来源互换，详见《会员管理》。

会员类型级别：会员添加后在系统中即为“注册会员”，购买消费时享受对应的商品价格。会员购买对应的商品“直通车卡”、“爱心卡”、“学生卡”、“合伙人卡”等会员卡后，会员级别变为相应的等级，购买消费时享受对应的商品价格，详见《会员管理》。

金币：与人民币1：1等值，通过金币充值、推广下级返利获得；可与积分一起购买平台内的商品；可提现至微信钱包。

金币提现：前台“会员提现”根据后台系统设定的规则《提现规则设定》进行提现数量限制。金币不达起提数量,可在平台内无限制意消费；金币达到起提数量,除保留数量外的金币,可提现至微信钱包；会员有多个身份,则按以下规则执行：

"起提数量"：以多个身份中最低的进行起提限制

"保留数量"：以多个身份中最低的进行保留限制

积分：通过推广下级、金币充值奖励、消费购物奖励获得。可与金币一起购买平台内的商品；只可平台内流通。

介绍人（会员推广）：系统中每个会员（A）都可以生成自己的推广二维码，他人（B）扫描此二维码关注后，即成为A的下级会员，A就是B的“介绍人”。会员B在以下情况之外可以变更上级介绍人：（1）未购买这乘车卡（2）未购买过合伙人（3）没有推广下级会员。


## 微信服务号
本系统依托微信实现会员系统，无需注册，关注微信服务号后即成为会员。微信服务号主界面包含在线购买、我要推广和会员中心三部分。在线购买，用户可以购买“直通车”。我要推广，生成用户推广使用的专属二维码推广图片，用于发布到朋友圈和微信群。会员中心为下拉菜单，在二级菜单中会员可以进入“旅游首页”、“会员中心”和“关于我们”进行相关操作。

会员扫描二维码关注服务号后，会收到系统的自动回复内容；以及上级推荐人的姓名信息（图1）。微信服务号主界面的“功能菜单”设置、“关注自动回复”设置详见《微信参数配置》。
             <img src="https://github.com/dwt11/php-cck/blob/main/demo-pic/1.png"/>
             图1 微信服务号主界面-功能菜单 



         
         
         
         
                        
         

        
<img src="https://github.com/dwt11/php-cck/blob/main/demo-pic/2.png"/>
 图2 微信服务号主界面-自动回复
会员可在微信服务号主界面切换功能菜单为输入状态，输入需要的文字，系统自动匹配内容并回复相关内容（图2）；系统自动匹配的内容来自系统中所有的商品和新闻，商品和新闻的标题含有会员输入的文字时自动推送内容；没有匹配的内容时，会进行友情提示。

主要包含：旅游首页、会员中心、司乘功能三部分



## 首页
旅游首页，包含了系统的各类信息：新闻公告、旅游线路商品、会员卡商品等信息。会员通过点击相应的模块实现交互操作。如图
           <img src="https://github.com/dwt11/php-cck/blob/main/demo-pic/3.png"/>

图3 旅游首页

##	内部办公系统
此部分功能可以在任意电脑使用浏览器进行操作，操作人员为：旅游公司的相关工作人员。可以对会员信息、商品信息、订单信息、预约销售明细信息、新闻公告信息、统计分析信息以及系统基础信息进行管理。
            <img src="https://github.com/dwt11/php-cck/blob/main/demo-pic/4.png"/>

图 登录界面



 ## 主界面
用户名密码验证通过后，系统跳转到系统的主界面，主界面截图如下：
            <img src="https://github.com/dwt11/php-cck/blob/main/demo-pic/5.png"/>



##  预约信息相关
此模块包含：预约明细、预约管理、临时乘车明细。
1、	预约明细，显示系统中所有支付成功正常生效的旅游线路预约明细；订单管理中按主订单显示，存在有一个主订单多个子订单（预约记录）的情况。此功能则以每个子订单（乘车人）为显示基础，可按出行状态（已出行、未出行），线路名称，出行日期，乘车人（姓名、电话），司机姓名，上车站点，是否检票等条件进行精确检索。
此列表中用颜色分别标出乘车人的年龄（大于60、大于70、大于80），便于识别。
2、	预约管理，显示当前月每日包含的发车线路的汇总信息（使用颜色区分线路状态：截止时间到、操作员下架、人满下线）（图4.1）；点击发车线路名称，可以显示此条发车信息的所有乘车人（图4.2）。
             <img src="https://github.com/dwt11/php-cck/blob/main/demo-pic/6.png"/>

图  发车线路汇总表
 
 
 
 
 
             

<img src="https://github.com/dwt11/php-cck/blob/main/demo-pic/7.png"/>
图 线路乘车人明细



可为具体的发车线路分配车辆、司乘人员，以及为会员备注注意事项，并可进行座位调整（图4.3）；以上信息填写后，可以发送通知信息， 优先发送微信通知消息，如果会员没有微信则发送手机短信通知。
可随时发送“紧急变更通知”；优先发送微信通知消息，如果会员没有微信则发送手机短信通知。
手机短信会存在收不到的情况：手机软件屏蔽、发送失败等原因。
未超过发车日期，可手动删除乘车人员。
可显示乘车人员是否检票（手机端司乘人员操作）。
             <img src="https://github.com/dwt11/php-cck/blob/main/demo-pic/8.png"/>

图  座位调整
3、	临时乘车明细，显示前台司乘检票时增加的临时乘车人员信息，可删除；可按车牌号、线路名称、出行日期、乘车人姓名、检票人姓名进行检票。

 