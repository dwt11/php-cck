!function(B){"function"==typeof define&&define.amd?define(["./blueimp-helper"],B):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=B(window.blueimp.helper||window.jQuery))}(function(C){function D(A,B){return void 0===document.body.style.maxHeight?null:this&&this.options===D.prototype.options?A&&A.length?(this.list=A,this.num=A.length,this.initOptions(B),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",A):new D(A,B)}return C.extend(D.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5000,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(G){var A={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},H={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},B=function(){var J,F,E=A.transition;document.body.appendChild(G),E&&(J=E.name.slice(0,-9)+"ransform",void 0!==G.style[J]&&(G.style[J]="translateZ(0)",F=window.getComputedStyle(G).getPropertyValue(E.prefix+"transform"),A.transform={prefix:E.prefix,name:J,translate:!0,translateZ:!!F&&"none"!==F})),void 0!==G.style.backgroundSize&&(A.backgroundSize={},G.style.backgroundSize="contain",A.backgroundSize.contain="contain"===window.getComputedStyle(G).getPropertyValue("background-size"),G.style.backgroundSize="cover",A.backgroundSize.cover="cover"===window.getComputedStyle(G).getPropertyValue("background-size")),document.body.removeChild(G)};return function(F,E){var J;for(J in E){if(E.hasOwnProperty(J)&&void 0!==G.style[J]){F.transition=E[J],F.transition.name=J;break}}}(A,H),document.body?B():C(document).on("DOMContentLoaded",B),A}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),void (this.options.startSlideshow&&this.play()))},slide:function(B,J){window.clearTimeout(this.timeout);var A,K,I,L=this.index;if(L!==B&&1!==this.num){if(J||(J=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(B=this.circle(B)),A=Math.abs(L-B)/(L-B),this.options.continuous&&(K=A,A=-this.positions[this.circle(B)]/this.slideWidth,A!==K&&(B=-A*this.num+B)),I=Math.abs(L-B)-1;I;){I-=1,this.move(this.circle((B>L?B:L)-I-1),this.slideWidth*A,0)}B=this.circle(B),this.move(L,this.slideWidth*A,J),this.move(B,0,J),this.options.continuous&&this.move(this.circle(B-A),-(this.slideWidth*A),0)}else{B=this.circle(B),this.animate(L*-this.slideWidth,B*-this.slideWidth,J)}this.onslide(B)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(A){var B=this;window.clearTimeout(this.timeout),this.interval=A||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(G,H){B.animationFrameId=B.requestAnimationFrame.call(window,function(){B.slide(G,H)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(A){var B;for(A.concat||(A=Array.prototype.slice.call(A)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(A),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),B=this.num-A.length;B<this.num;B+=1){this.addSlide(B),this.positionSlide(B)}this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[]},handleClose:function(){var A=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(A.displayClass).removeClass(A.singleClass).removeClass(A.leftEdgeClass).removeClass(A.rightEdgeClass),A.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var A=this,B=function(F){F.target===A.container[0]&&(A.container.off(A.support.transition.end,B),A.handleClose())};this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,B),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(A){return(this.num+A%this.num)%this.num},move:function(B,F,A){this.translateX(B,F,A),this.positions[B]=F},translate:function(B,A,J,K){var L=this.slides[B].style,N=this.support.transition,M=this.support.transform;L[N.name+"Duration"]=K+"ms",L[M.name]="translate("+A+"px, "+J+"px)"+(M.translateZ?" translateZ(0)":"")},translateX:function(B,F,A){this.translate(B,F,0,A)},translateY:function(B,F,A){this.translate(B,0,F,A)},animate:function(B,J,A){if(!A){return void (this.slidesContainer[0].style.left=J+"px")}var K=this,I=(new Date).getTime(),L=window.setInterval(function(){var E=(new Date).getTime()-I;return E>A?(K.slidesContainer[0].style.left=J+"px",K.ontransitionend(),void window.clearInterval(L)):void (K.slidesContainer[0].style.left=(J-B)*(Math.floor(E/A*100)/100)+B+"px")},4)},preventDefault:function(A){A.preventDefault?A.preventDefault():A.returnValue=!1},stopPropagation:function(A){A.stopPropagation?A.stopPropagation():A.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(A){A.which&&1===A.which&&"VIDEO"!==A.target.nodeName&&(A.preventDefault(),(A.originalEvent||A).touches=[{pageX:A.pageX,pageY:A.pageY}],this.ontouchstart(A))},onmousemove:function(A){this.touchStart&&((A.originalEvent||A).touches=[{pageX:A.pageX,pageY:A.pageY}],this.ontouchmove(A))},onmouseup:function(A){this.touchStart&&(this.ontouchend(A),delete this.touchStart)},onmouseout:function(A){if(this.touchStart){var B=A.target,F=A.relatedTarget;(!F||F!==B&&!C.contains(B,F))&&this.onmouseup(A)}},ontouchstart:function(A){this.options.stopTouchEventsPropagation&&this.stopPropagation(A);var B=(A.originalEvent||A).touches[0];this.touchStart={x:B.pageX,y:B.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(B){this.options.stopTouchEventsPropagation&&this.stopPropagation(B);var J,A,K=(B.originalEvent||B).touches[0],I=(B.originalEvent||B).scale,L=this.index;if(!(K.length>1||I&&1!==I)){if(this.options.disableScroll&&B.preventDefault(),this.touchDelta={x:K.pageX-this.touchStart.x,y:K.pageY-this.touchStart.y},J=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(J)<Math.abs(this.touchDelta.y)),this.isScrolling){this.options.closeOnSwipeUpOrDown&&this.translateY(L,this.touchDelta.y+this.positions[L],0)}else{for(B.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?A=[this.circle(L+1),L,this.circle(L-1)]:(this.touchDelta.x=J/=!L&&J>0||L===this.num-1&&0>J?Math.abs(J)/this.slideWidth+1:1,A=[L],L&&A.push(L-1),L<this.num-1&&A.unshift(L+1));A.length;){L=A.pop(),this.translateX(L,J+this.positions[L],0)}}}},ontouchend:function(S){this.options.stopTouchEventsPropagation&&this.stopPropagation(S);var Z,A,R,U,T,Q=this.index,V=this.options.transitionSpeed,W=this.slideWidth,X=Number(Date.now()-this.touchStart.time)<250,Y=X&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>W/2,B=!Q&&this.touchDelta.x>0||Q===this.num-1&&this.touchDelta.x<0,P=!Y&&this.options.closeOnSwipeUpOrDown&&(X&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(B=!1),Z=this.touchDelta.x<0?-1:1,this.isScrolling?P?this.close():this.translateY(Q,0,V):Y&&!B?(A=Q+Z,R=Q-Z,U=W*Z,T=-W*Z,this.options.continuous?(this.move(this.circle(A),U,0),this.move(this.circle(Q-2*Z),T,0)):A>=0&&A<this.num&&this.move(A,U,0),this.move(Q,this.positions[Q]+U,V),this.move(this.circle(R),this.positions[this.circle(R)]+U,V),Q=this.circle(R),this.onslide(Q)):this.options.continuous?(this.move(this.circle(Q-1),-W,V),this.move(Q,0,V),this.move(this.circle(Q+1),W,V)):(Q&&this.move(Q-1,-W,V),this.move(Q,0,V),Q<this.num-1&&this.move(Q+1,W,V))},ontouchcancel:function(A){this.touchStart&&(this.ontouchend(A),delete this.touchStart)},ontransitionend:function(A){var B=this.slides[this.index];A&&B!==A.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,B]))},oncomplete:function(G){var A,H=G.target||G.srcElement,B=H&&H.parentNode;H&&B&&(A=this.getNodeIndex(B),C(B).removeClass(this.options.slideLoadingClass),"error"===G.type?(C(B).addClass(this.options.slideErrorClass),this.elements[A]=3):this.elements[A]=2,H.clientHeight>this.container[0].clientHeight&&(H.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===B&&this.play(),this.setTimeout(this.options.onslidecomplete,[A,B]))},onload:function(A){this.oncomplete(A)},onerror:function(A){this.oncomplete(A)},onkeydown:function(A){switch(A.which||A.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(A),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),A.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(A),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(A),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(A),this.next())}},handleClick:function(I){var A=this.options,J=I.target||I.srcElement,H=J.parentNode,B=function(E){return C(J).hasClass(E)||C(H).hasClass(E)};B(A.toggleClass)?(this.preventDefault(I),this.toggleControls()):B(A.prevClass)?(this.preventDefault(I),this.prev()):B(A.nextClass)?(this.preventDefault(I),this.next()):B(A.closeClass)?(this.preventDefault(I),this.close()):B(A.playPauseClass)?(this.preventDefault(I),this.toggleSlideshow()):H===this.slidesContainer[0]?(this.preventDefault(I),A.closeOnSlideClick?this.close():this.toggleControls()):H.parentNode&&H.parentNode===this.slidesContainer[0]&&(this.preventDefault(I),this.toggleControls())},onclick:function(A){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(A)},updateEdgeClasses:function(A){A?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),A===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(A){this.options.continuous||this.updateEdgeClasses(A),this.loadElements(A),this.options.unloadElements&&this.unloadElements(A),this.setTitle(A)},onslide:function(A){this.index=A,this.handleSlide(A),this.setTimeout(this.options.onslide,[A,this.slides[A]])},setTitle:function(B){var F=this.slides[B].firstChild.title,A=this.titleElement;A.length&&(this.titleElement.empty(),F&&A[0].appendChild(document.createTextNode(F)))},setTimeout:function(A,B,G){var H=this;return A&&window.setTimeout(function(){A.apply(H,B||[])},G||0)},imageFactory:function(B,M){var N,O,T,A=this,P=this.imagePrototype.cloneNode(!1),Q=B,R=this.options.stretchImages,S=function(E){if(!N){if(E={type:E.type,target:O},!O.parentNode){return A.setTimeout(S,[E])}N=!0,C(P).off("load error",S),R&&"load"===E.type&&(O.style.background='url("'+Q+'") center no-repeat',O.style.backgroundSize=R),M(E)}};return"string"!=typeof Q&&(Q=this.getItemProperty(B,this.options.urlProperty),T=this.getItemProperty(B,this.options.titleProperty)),R===!0&&(R="contain"),R=this.support.backgroundSize&&this.support.backgroundSize[R]&&R,R?O=this.elementPrototype.cloneNode(!1):(O=P,P.draggable=!1),T&&(O.title=T),C(P).on("load error",S),P.src=Q,O},createElement:function(I,A){var J=I&&this.getItemProperty(I,this.options.typeProperty),H=J&&this[J.split("/")[0]+"Factory"]||this.imageFactory,B=I&&H.call(this,I,A);return B||(B=this.elementPrototype.cloneNode(!1),this.setTimeout(A,[{type:"error",target:B}])),C(B).addClass(this.options.slideContentClass),B},loadElement:function(A){this.elements[A]||(this.slides[A].firstChild?this.elements[A]=C(this.slides[A]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[A]=1,C(this.slides[A]).addClass(this.options.slideLoadingClass),this.slides[A].appendChild(this.createElement(this.list[A],this.proxyListener))))},loadElements:function(A){var B,G=Math.min(this.num,2*this.options.preloadRange+1),H=A;for(B=0;G>B;B+=1){H+=B*(B%2===0?-1:1),H=this.circle(H),this.loadElement(H)}},unloadElements:function(B){var F,A;for(F in this.elements){this.elements.hasOwnProperty(F)&&(A=Math.abs(B-F),A>this.options.preloadRange&&A+this.options.preloadRange<this.num&&(this.unloadSlide(F),delete this.elements[F]))}},addSlide:function(A){var B=this.slidePrototype.cloneNode(!1);B.setAttribute("data-index",A),this.slidesContainer[0].appendChild(B),this.slides.push(B)},positionSlide:function(A){var B=this.slides[A];B.style.width=this.slideWidth+"px",this.support.transform&&(B.style.left=A*-this.slideWidth+"px",this.move(A,this.index>A?-this.slideWidth:this.index<A?this.slideWidth:0,0))},initSlides:function(A){var B,F;for(A||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),C(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,B=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",B&&this.resetSlides(),F=0;F<this.num;F+=1){B&&this.addSlide(F),this.positionSlide(F)}this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},unloadSlide:function(B){var F,A;F=this.slides[B],A=F.firstChild,null!==A&&F.removeChild(A)},unloadAllSlides:function(){var A,B;for(A=0,B=this.slides.length;B>A;A++){this.unloadSlide(A)}},toggleControls:function(){var A=this.options.controlsClass;this.container.hasClass(A)?this.container.removeClass(A):this.container.addClass(A)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(A){return parseInt(A.getAttribute("data-index"),10)},getNestedProperty:function(A,B){return B.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(L,M,K,N,P){var O=P||M||K||N&&parseInt(N,10);L&&A&&(A=A[O])}),A},getDataProperty:function(G,A){if(G.getAttribute){var H=G.getAttribute("data-"+A.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof H){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(H)){try{return C.parseJSON(H)}catch(B){}}return H}}},getItemProperty:function(B,F){var A=B[F];return void 0===A&&(A=this.getDataProperty(B,F),void 0===A&&(A=this.getNestedProperty(B,F))),A},initStartIndex:function(){var B,F=this.options.index,A=this.options.urlProperty;if(F&&"number"!=typeof F){for(B=0;B<this.num;B+=1){if(this.list[B]===F||this.getItemProperty(this.list[B],A)===this.getItemProperty(F,A)){F=B;break}}}this.index=this.circle(parseInt(F,10)||0)},initEventListeners:function(){var A=this,B=this.slidesContainer,F=function(H){var E=A.support.transition&&A.support.transition.end===H.type?"transitionend":H.type;A["on"+E](H)};C(window).on("resize",F),C(document.body).on("keydown",F),this.container.on("click",F),this.support.touch?B.on("touchstart touchmove touchend touchcancel",F):this.options.emulateTouchEvents&&this.support.transition&&B.on("mousedown mousemove mouseup mouseout",F),this.support.transition&&B.on(this.support.transition.end,F),this.proxyListener=F},destroyEventListeners:function(){var B=this.slidesContainer,A=this.proxyListener;C(window).off("resize",A),C(document.body).off("keydown",A),this.container.off("click",A),this.support.touch?B.off("touchstart touchmove touchend touchcancel",A):this.options.emulateTouchEvents&&this.support.transition&&B.off("mousedown mousemove mouseup mouseout",A),this.support.transition&&B.off(this.support.transition.end,A)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var B=this,A=function(F){F.target===B.container[0]&&(B.container.off(B.support.transition.end,A),B.handleOpen())};return this.container=C(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,A):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(A){this.options=C.extend({},this.options),(A&&A.carousel||this.options.carousel&&(!A||A.carousel!==!1))&&C.extend(this.options,this.carouselOptions),C.extend(this.options,A),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),D}),function(B){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],B):B(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(E,F){E.extend(F.prototype.options,{fullScreen:!1});var G=F.prototype.initialize,H=F.prototype.close;return E.extend(F.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(A){A.requestFullscreen?A.requestFullscreen():A.webkitRequestFullscreen?A.webkitRequestFullscreen():A.mozRequestFullScreen?A.mozRequestFullScreen():A.msRequestFullscreen&&A.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){G.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),H.call(this)}}),F}),function(B){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],B):B(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(P,K){P.extend(K.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var O=K.prototype.initSlides,I=K.prototype.addSlide,L=K.prototype.resetSlides,M=K.prototype.handleClick,N=K.prototype.handleSlide,J=K.prototype.handleClose;return P.extend(K.prototype,{createIndicator:function(D){var E,F,A=this.indicatorPrototype.cloneNode(!1),C=this.getItemProperty(D,this.options.titleProperty),B=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(B&&(E=this.getItemProperty(D,B)),void 0===E&&(F=D.getElementsByTagName&&P(D).find("img")[0],F&&(E=F.src)),E&&(A.style.backgroundImage='url("'+E+'")')),C&&(A.title=C),A},addIndicator:function(B){if(this.indicatorContainer.length){var A=this.createIndicator(this.list[B]);A.setAttribute("data-index",B),this.indicatorContainer[0].appendChild(A),this.indicators.push(A)}},setActiveIndicator:function(A){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=P(this.indicators[A]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(A){A||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),O.call(this,A)},addSlide:function(A){I.call(this,A),this.addIndicator(A)},resetSlides:function(){L.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(A){var B=A.target||A.srcElement,C=B.parentNode;if(C===this.indicatorContainer[0]){this.preventDefault(A),this.slide(this.getNodeIndex(B))}else{if(C.parentNode!==this.indicatorContainer[0]){return M.call(this,A)}this.preventDefault(A),this.slide(this.getNodeIndex(C))}},handleSlide:function(A){N.call(this,A),this.setActiveIndicator(A)},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),J.call(this)}}),K}),function(B){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],B):B(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(E,F){E.extend(F.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"});var D=F.prototype.handleSlide;return E.extend(F.prototype,{handleSlide:function(A){D.call(this,A),this.playingVideo&&this.playingVideo.pause()},videoFactory:function(W,A,Z){var X,B,Y,b,g,d=this,a=this.options,f=this.elementPrototype.cloneNode(!1),C=E(f),h=[{type:"error",target:f}],e=Z||document.createElement("video"),i=this.getItemProperty(W,a.urlProperty),j=this.getItemProperty(W,a.typeProperty),k=this.getItemProperty(W,a.titleProperty),l=this.getItemProperty(W,a.videoPosterProperty),c=this.getItemProperty(W,a.videoSourcesProperty);if(C.addClass(a.videoContentClass),k&&(f.title=k),e.canPlayType){if(i&&j&&e.canPlayType(j)){e.src=i}else{for(;c&&c.length;){if(B=c.shift(),i=this.getItemProperty(B,a.urlProperty),j=this.getItemProperty(B,a.typeProperty),i&&j&&e.canPlayType(j)){e.src=i;break}}}}return l&&(e.poster=l,X=this.imagePrototype.cloneNode(!1),E(X).addClass(a.toggleClass),X.src=l,X.draggable=!1,f.appendChild(X)),Y=document.createElement("a"),Y.setAttribute("target","_blank"),Z||Y.setAttribute("download",k),Y.href=i,e.src&&(e.controls=!0,(Z||E(e)).on("error",function(){d.setTimeout(A,h)}).on("pause",function(){b=!1,C.removeClass(d.options.videoLoadingClass).removeClass(d.options.videoPlayingClass),g&&d.container.addClass(d.options.controlsClass),delete d.playingVideo,d.interval&&d.play()}).on("playing",function(){b=!1,C.removeClass(d.options.videoLoadingClass).addClass(d.options.videoPlayingClass),d.container.hasClass(d.options.controlsClass)?(g=!0,d.container.removeClass(d.options.controlsClass)):g=!1}).on("play",function(){window.clearTimeout(d.timeout),b=!0,C.addClass(d.options.videoLoadingClass),d.playingVideo=e}),E(Y).on("click",function(G){d.preventDefault(G),b?e.pause():e.play()}),f.appendChild(Z&&Z.element||e)),f.appendChild(Y),this.setTimeout(A,[{type:"load",target:f}]),f}}),F}),function(B){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],B):B(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(G,I){if(!window.postMessage){return I}G.extend(I.prototype.options,{vimeoVideoIdProperty:"vimeo",vimeoPlayerUrl:"//player.vimeo.com/video/VIDEO_ID?api=1&player_id=PLAYER_ID",vimeoPlayerIdPrefix:"vimeo-player-",vimeoClickToPlay:!0});var F=I.prototype.textFactory||I.prototype.imageFactory,J=function(C,B,A,D){this.url=C,this.videoId=B,this.playerId=A,this.clickToPlay=D,this.element=document.createElement("div"),this.listeners={}},H=0;return G.extend(J.prototype,{canPlayType:function(){return !0},on:function(B,A){return this.listeners[B]=A,this},loadAPI:function(){for(var N,A,B=this,M="//"+("https"===location.protocol?"secure-":"")+"a.vimeocdn.com/js/froogaloop2.min.js",D=document.getElementsByTagName("script"),C=D.length,E=function(){!A&&B.playOnReady&&B.play(),A=!0};C;){if(C-=1,D[C].src===M){N=D[C];break}}N||(N=document.createElement("script"),N.src=M),G(N).on("load",E),D[0].parentNode.insertBefore(N,D[0]),/loaded|complete/.test(N.readyState)&&E()},onReady:function(){var A=this;this.ready=!0,this.player.addEvent("play",function(){A.hasPlayed=!0,A.onPlaying()}),this.player.addEvent("pause",function(){A.onPause()}),this.player.addEvent("finish",function(){A.onPause()}),this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){this.listeners.pause(),delete this.playStatus},insertIframe:function(){var A=document.createElement("iframe");A.src=this.url.replace("VIDEO_ID",this.videoId).replace("PLAYER_ID",this.playerId),A.id=this.playerId,this.element.parentNode.replaceChild(A,this.element),this.element=A},play:function(){var A=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.api("play"):(this.playOnReady=!0,window.$f?this.player||(this.insertIframe(),this.player=$f(this.element),this.player.addEvent("ready",function(){A.onReady()})):this.loadAPI())},pause:function(){this.ready?this.player.api("pause"):this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),G.extend(I.prototype,{VimeoPlayer:J,textFactory:function(B,C){var A=this.options,D=this.getItemProperty(B,A.vimeoVideoIdProperty);return D?(void 0===this.getItemProperty(B,A.urlProperty)&&(B[A.urlProperty]="//vimeo.com/"+D),H+=1,this.videoFactory(B,C,new J(A.vimeoPlayerUrl,D,A.vimeoPlayerIdPrefix+H,A.vimeoClickToPlay))):F.call(this,B,C)}}),I}),function(B){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery-video"],B):B(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(E,F){if(!window.postMessage){return F}E.extend(F.prototype.options,{youTubeVideoIdProperty:"youtube",youTubePlayerVars:{wmode:"transparent"},youTubeClickToPlay:!0});var G=F.prototype.textFactory||F.prototype.imageFactory,H=function(B,C,A){this.videoId=B,this.playerVars=C,this.clickToPlay=A,this.element=document.createElement("div"),this.listeners={}};return E.extend(H.prototype,{canPlayType:function(){return !0},on:function(A,B){return this.listeners[A]=B,this},loadAPI:function(){var C,B=this,A=window.onYouTubeIframeAPIReady,D="//www.youtube.com/iframe_api",K=document.getElementsByTagName("script"),L=K.length;for(window.onYouTubeIframeAPIReady=function(){A&&A.apply(this),B.playOnReady&&B.play()};L;){if(L-=1,K[L].src===D){return}}C=document.createElement("script"),C.src=D,K[0].parentNode.insertBefore(C,K[0])},onReady:function(){this.ready=!0,this.playOnReady&&this.play()},onPlaying:function(){this.playStatus<2&&(this.listeners.playing(),this.playStatus=2)},onPause:function(){F.prototype.setTimeout.call(this,this.checkSeek,null,2000)},checkSeek:function(){(this.stateChange===YT.PlayerState.PAUSED||this.stateChange===YT.PlayerState.ENDED)&&(this.listeners.pause(),delete this.playStatus)},onStateChange:function(A){switch(A.data){case YT.PlayerState.PLAYING:this.hasPlayed=!0,this.onPlaying();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:this.onPause()}this.stateChange=A.data},onError:function(A){this.listeners.error(A)},play:function(){var A=this;this.playStatus||(this.listeners.play(),this.playStatus=1),this.ready?!this.hasPlayed&&(this.clickToPlay||window.navigator&&/iP(hone|od|ad)/.test(window.navigator.platform))?this.onPlaying():this.player.playVideo():(this.playOnReady=!0,window.YT&&YT.Player?this.player||(this.player=new YT.Player(this.element,{videoId:this.videoId,playerVars:this.playerVars,events:{onReady:function(){A.onReady()},onStateChange:function(B){A.onStateChange(B)},onError:function(B){A.onError(B)}}})):this.loadAPI())},pause:function(){this.ready?this.player.pauseVideo():this.playStatus&&(delete this.playOnReady,this.listeners.pause(),delete this.playStatus)}}),E.extend(F.prototype,{YouTubePlayer:H,textFactory:function(B,A){var C=this.options,D=this.getItemProperty(B,C.youTubeVideoIdProperty);return D?(void 0===this.getItemProperty(B,C.urlProperty)&&(B[C.urlProperty]="//www.youtube.com/watch?v="+D),void 0===this.getItemProperty(B,C.videoPosterProperty)&&(B[C.videoPosterProperty]="//img.youtube.com/vi/"+D+"/maxresdefault.jpg"),this.videoFactory(B,A,new H(D,C.youTubePlayerVars,C.youTubeClickToPlay))):G.call(this,B,A)}}),F}),function(B){"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],B):B(window.jQuery,window.blueimp.Gallery)}(function(C,D){C(document).on("click","[data-gallery]",function(B){var J=C(this).data("gallery"),K=C(J),A=K.length&&K||C(D.prototype.options.container),N={onopen:function(){A.data("gallery",this).trigger("open")},onopened:function(){A.trigger("opened")},onslide:function(){A.trigger("slide",arguments)},onslideend:function(){A.trigger("slideend",arguments)},onslidecomplete:function(){A.trigger("slidecomplete",arguments)},onclose:function(){A.trigger("close")},onclosed:function(){A.trigger("closed").removeData("gallery")}},L=C.extend(A.data(),{container:A[0],index:this,event:B},N),M=C('[data-gallery="'+J+'"]');return L.filter&&(M=M.filter(L.filter)),new D(M,L)})});