(function(B){B.fn.extend({prettyFile:function(I){var H={text:"选择文件"};var I=B.extend(H,I);var L=this;function K(D,C){D.wrap("<div></div>");D.hide();D.after('				<div class="input-append input-group"">					<span class="input-group-btn">						<button class="btn btn-white" type="button">'+C+'</button>					</span>					<input class="input-large form-control" type="text">				</div>				');return D.parent()}function J(D,C){D.find('input[type="file"]').change(function(){var E=B(this)[0].files,F="";if(E.length==0){return false}if(!C||E.length==1){var G=B(this).val().split("\\");F=G[G.length-1]}else{if(E.length>1){F="已选择了"+E.length+" 个文件"}}D.find(".input-append input").val(F)})}function A(D,C){D.find(".input-append").click(function(E){E.preventDefault();D.find('input[type="file"]').click()})}return L.each(function(){$this=B(this);if($this){var C=$this.attr("multiple");$wrap=K($this,I.text);J($wrap,C);A($wrap)}})}})}(jQuery));