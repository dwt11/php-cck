(function(H,X){function N(Aa){H.extend(!0,D,Aa)}function I(Cl,An,Be){function Bq(Bz){AK?Aa()&&(Bo(),AD(Bz)):Ad()}function Ad(){Bw=An.theme?"ui":"fc",Cl.addClass("fc"),An.isRTL?Cl.addClass("fc-rtl"):Cl.addClass("fc-ltr"),An.theme&&Cl.addClass("ui-widget"),AK=H("<div class='fc-content' style='position:relative'/>").prependTo(Cl),Bx=new G(At,An),Bj=Bx.render(),Bj&&Cl.prepend(Bj),AW(An.defaultView),An.handleWindowResize&&H(window).resize(A8),Bl()||Ci()}function Ci(){setTimeout(function(){!Bv.start&&Bl()&&Bd()},0)}function Ak(){Bv&&(Ag("viewDestroy",Bv,Bv,Bv.element),Bv.triggerEventDestroy()),H(window).unbind("resize",A8),Bx.destroy(),AK.remove(),Cl.removeClass("fc fc-rtl ui-widget")}function Aa(){return Cl.is(":visible")}function Bl(){return H("body").is(":visible")}function AW(Bz){Bv&&Bz==Bv.name||AM(Bz)}function AM(Bz){Cm++,Bv&&(Ag("viewDestroy",Bv,Bv,Bv.element),Bu(),Bv.triggerEventDestroy(),Bp(),Bv.element.remove(),Bx.deactivateButton(Bv.name)),Bx.activateButton(Bz),Bv=new M[Bz](H("<div class='fc-view fc-view-"+Bz+"' style='position:relative'/>").appendTo(AK),At),Bd(),Ck(),Cm--}function Bd(Bz){(!Bv.start||Bz||Bv.start>Bg||Bg>=Bv.end)&&Aa()&&AD(Bz)}function AD(Bz){Cm++,Bv.start&&(Ag("viewDestroy",Bv,Bv,Bv.element),Bu(),Cn()),Bp(),Bv.render(Bg,Bz||0),Br(),Ck(),(Bv.afterRender||p)(),AN(),Bk(),Ag("viewRender",Bv,Bv,Bv.element),Bv.trigger("viewDisplay",Bm),Cm--,AJ()}function Au(){Aa()&&(Bu(),Cn(),Bo(),Br(),Aj())}function Bo(){Bn=An.contentHeight?An.contentHeight:An.height?An.height-(Bj?Bj.height():0)-Ae(AK):Math.round(AK.width()/Math.max(An.aspectRatio,0.5))}function Br(){Bn===X&&Bo(),Cm++,Bv.setHeight(Bn),Bv.setWidth(AK.width()),Cm--,A5=Cl.outerWidth()}function A8(){if(!Cm){if(Bv.start){var Bz=++By;setTimeout(function(){Bz==By&&!Cm&&Aa()&&A5!=(A5=Cl.outerWidth())&&(Cm++,Au(),Bv.trigger("windowResize",Bm),Cm--)},200)}else{Ci()}}}function Ba(){Cn(),Cj()}function AP(Bz){Cn(),Aj(Bz)}function Aj(Bz){Aa()&&(Bv.setEventData(Bt),Bv.renderEvents(Bt,Bz),Bv.trigger("eventAfterAllRender"))}function Cn(){Bv.triggerEventDestroy(),Bv.clearEvents(),Bv.clearEventData()}function AJ(){!An.lazyFetching||A9(Bv.visStart,Bv.visEnd)?Cj():Aj()}function Cj(){Bh(Bv.visStart,Bv.visEnd)}function Bi(Bz){Bt=Bz,Aj()}function AG(Bz){AP(Bz)}function AN(){Bx.updateTitle(Bv.title)}function Bk(){var Bz=new Date;Bz>=Bv.start&&Bv.end>Bz?Bx.disableButton("today"):Bx.enableButton("today")}function AZ(Bz,BB,BA){Bv.select(Bz,BB,BA===X?!0:BA)}function Bu(){Bv&&Bv.unselect()}function Aq(){Bd(-1)}function Bb(){Bd(1)}function Am(){Av(Bg,-1),Bd()}function Ao(){Av(Bg,1),Bd()}function Ah(){Bg=new Date,Bd()}function Bf(Bz,BA,BB){Bz instanceof Date?Bg=T(Bz):Ay(Bg,Bz,BA,BB),Bd()}function Bc(Bz,BB,BA){Bz!==X&&Av(Bg,Bz),BB!==X&&AI(Bg,BB),BA!==X&&Al(Bg,BA),Bd()}function Az(){return T(Bg)}function Bp(){AK.css({width:"100%",height:AK.height(),overflow:"hidden"})}function Ck(){AK.css({width:"",height:"",overflow:""})}function AY(){return Bv}function A7(BA,Bz){return Bz===X?An[BA]:(("height"==BA||"contentHeight"==BA||"aspectRatio"==BA)&&(An[BA]=Bz,Au()),X)}function Ag(BA,Bz){return An[BA]?An[BA].apply(Bz||Bm,Array.prototype.slice.call(arguments,2)):X}var At=this;At.options=An,At.render=Bq,At.destroy=Ak,At.refetchEvents=Ba,At.reportEvents=Bi,At.reportEventChange=AG,At.rerenderEvents=AP,At.changeView=AW,At.select=AZ,At.unselect=Bu,At.prev=Aq,At.next=Bb,At.prevYear=Am,At.nextYear=Ao,At.today=Ah,At.gotoDate=Bf,At.incrementDate=Bc,At.formatDate=function(BA,Bz){return C(BA,Bz,An)},At.formatDates=function(Bz,BA,BB){return v(Bz,BA,BB,An)},At.getDate=Az,At.getView=AY,At.option=A7,At.trigger=Ag,Ab.call(At,An,Be);var Bx,Bj,AK,Bw,Bv,A5,Bn,Bs,A9=At.isFetchNeeded,Bh=At.fetchEvents,Bm=Cl[0],By=0,Cm=0,Bg=new Date,Bt=[];Ay(Bg,An.year,An.month,An.date),An.droppable&&H(document).bind("dragstart",function(BD,BA){var Bz=BD.target,BB=H(Bz);if(!BB.parents(".fc").length){var BC=An.dropAccept;(H.isFunction(BC)?BC.call(Bz,BB):BB.is(BC))&&(Bs=Bz,Bv.dragStart(Bs,BD,BA))}}).bind("dragstop",function(BA,Bz){Bs&&(Bv.dragStop(Bs,BA,Bz),Bs=null)})}function G(Aq,An){function Aa(){Am=An.theme?"ui":"fc";var AD=An.header;return AD?Au=H("<table class='fc-header' style='width:100%'/>").append(H("<tr/>").append(Ao("left")).append(Ao("center")).append(Ao("right"))):X}function Ad(){Au.remove()}function Ao(AG){var AJ=H("<td class='fc-header-"+AG+"'/>"),AD=An.header[AG];return AD&&H.each(AD.split(" "),function(AM){AM>0&&AJ.append("<span class='fc-header-space'/>");var AK;H.each(this.split(","),function(AZ,AN){if("title"==AN){AJ.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),AK&&AK.addClass(Am+"-corner-right"),AK=null}else{var A5;if(Aq[AN]?A5=Aq[AN]:M[AN]&&(A5=function(){AP.removeClass(Am+"-state-hover"),Aq.changeView(AN)}),A5){var AW=An.theme?w(An.buttonIcons,AN):null,AY=w(An.buttonText,AN),AP=H("<span class='fc-button fc-button-"+AN+" "+Am+"-state-default'>"+(AW?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+AW+"'/></span>":AY)+"</span>").click(function(){AP.hasClass(Am+"-state-disabled")||A5()}).mousedown(function(){AP.not("."+Am+"-state-active").not("."+Am+"-state-disabled").addClass(Am+"-state-down")}).mouseup(function(){AP.removeClass(Am+"-state-down")}).hover(function(){AP.not("."+Am+"-state-active").not("."+Am+"-state-disabled").addClass(Am+"-state-hover")},function(){AP.removeClass(Am+"-state-hover").removeClass(Am+"-state-down")}).appendTo(AJ);e(AP),AK||AP.addClass(Am+"-corner-left"),AK=AP}}}),AK&&AK.addClass(Am+"-corner-right")}),AJ}function Ak(AD){Au.find("h2").html(AD)}function Ag(AD){Au.find("span.fc-button-"+AD).addClass(Am+"-state-active")}function Az(AD){Au.find("span.fc-button-"+AD).removeClass(Am+"-state-active")}function At(AD){Au.find("span.fc-button-"+AD).addClass(Am+"-state-disabled")}function Ah(AD){Au.find("span.fc-button-"+AD).removeClass(Am+"-state-disabled")}var Aj=this;Aj.render=Aa,Aj.destroy=Ad,Aj.updateTitle=Ak,Aj.activateButton=Ag,Aj.deactivateButton=Az,Aj.disableButton=At,Aj.enableButton=Ah;var Am,Au=H([])}function Ab(Ad,AZ){function Ag(Bf,Bg){return !Be||Be>Bf||Bg>Aq}function Az(Bh,Bi){Be=Bh,Aq=Bi,AN=[];var Bg=++Bc,Bj=A8.length;Bb=Bj;for(var Bf=0;Bj>Bf;Bf++){Au(A8[Bf],Bg)}}function Au(Bf,Bg){A9(Bf,function(Bi){if(Bg==Bc){if(Bi){Ad.eventDataTransform&&(Bi=H.map(Bi,Ad.eventDataTransform)),Bf.eventDataTransform&&(Bi=H.map(Bi,Bf.eventDataTransform));for(var Bh=0;Bi.length>Bh;Bh++){Bi[Bh].source=Bf,AM(Bi[Bh])}AN=AN.concat(Bi)}Bb--,Bb||AW(AN)}})}function A9(Bk,Bq){var Bg,Bh,Bn=AX.sourceFetchers;for(Bg=0;Bn.length>Bg;Bg++){if(Bh=Bn[Bg](Bk,Be,Aq,Bq),Bh===!0){return}if("object"==typeof Bh){return A9(Bh,Bq),X}}var Br=Bk.events;if(Br){H.isFunction(Br)?(Am(),Br(T(Be),T(Aq),function(Bt){Bq(Bt),Ba()})):H.isArray(Br)?Bq(Br):Bq()}else{var Bl=Bk.url;if(Bl){var Bj,Bm=Bk.success,Bf=Bk.error,Bo=Bk.complete;Bj=H.isFunction(Bk.data)?Bk.data():Bk.data;var Bi=H.extend({},Bj||{}),Bp=Aw(Bk.startParam,Ad.startParam),Bs=Aw(Bk.endParam,Ad.endParam);Bp&&(Bi[Bp]=Math.round(+Be/1000)),Bs&&(Bi[Bs]=Math.round(+Aq/1000)),Am(),H.ajax(H.extend({},f,Bk,{data:Bi,success:function(Bu){Bu=Bu||[];var Bt=g(Bm,this,arguments);H.isArray(Bt)&&(Bu=Bt),Bq(Bu)},error:function(){g(Bf,this,arguments),Bq()},complete:function(){g(Bo,this,arguments),Ba()}}))}else{Bq()}}}function Ak(Bf){Bf=AJ(Bf),Bf&&(Bb++,Au(Bf,Bc))}function AJ(Bf){return H.isFunction(Bf)||H.isArray(Bf)?Bf={events:Bf}:"string"==typeof Bf&&(Bf={url:Bf}),"object"==typeof Bf?(Ah(Bf),A8.push(Bf),Bf):X}function AY(Bf){A8=H.grep(A8,function(Bg){return !An(Bg,Bf)}),AN=H.grep(AN,function(Bg){return !An(Bg.source,Bf)}),AW(AN)}function Aj(Bg){var Bk,Bh,Bl=AN.length,Bj=Bd().defaultEventEnd,Bi=Bg.start-Bg._start,Bf=Bg.end?Bg.end-(Bg._end||Bj(Bg)):0;for(Bk=0;Bl>Bk;Bk++){Bh=AN[Bk],Bh._id==Bg._id&&Bh!=Bg&&(Bh.start=new Date(+Bh.start+Bi),Bh.end=Bg.end?Bh.end?new Date(+Bh.end+Bf):new Date(+Bj(Bh)+Bf):null,Bh.title=Bg.title,Bh.url=Bg.url,Bh.allDay=Bg.allDay,Bh.className=Bg.className,Bh.editable=Bg.editable,Bh.color=Bg.color,Bh.backgroundColor=Bg.backgroundColor,Bh.borderColor=Bg.borderColor,Bh.textColor=Bg.textColor,AM(Bh))}AM(Bg),AW(AN)}function AK(Bf,Bg){AM(Bf),Bf.source||(Bg&&(A5.events.push(Bf),Bf.source=A5),AN.push(Bf)),AW(AN)}function At(Bg){if(Bg){if(!H.isFunction(Bg)){var Bf=Bg+"";Bg=function(Bi){return Bi._id==Bf}}AN=H.grep(AN,Bg,!0);for(var Bh=0;A8.length>Bh;Bh++){H.isArray(A8[Bh].events)&&(A8[Bh].events=H.grep(A8[Bh].events,Bg,!0))}}else{AN=[];for(var Bh=0;A8.length>Bh;Bh++){H.isArray(A8[Bh].events)&&(A8[Bh].events=[])}}AW(AN)}function Aa(Bf){return H.isFunction(Bf)?H.grep(AN,Bf):Bf?(Bf+="",H.grep(AN,function(Bg){return Bg._id==Bf})):AN}function Am(){AD++||AP("loading",null,!0,Bd())}function Ba(){--AD||AP("loading",null,!1,Bd())}function AM(Bg){var Bh=Bg.source||{},Bf=Aw(Bh.ignoreTimezone,Ad.ignoreTimezone);Bg._id=Bg._id||(Bg.id===X?"_fc"+B++:Bg.id+""),Bg.date&&(Bg.start||(Bg.start=Bg.date),delete Bg.date),Bg._start=T(Bg.start=AQ(Bg.start,Bf)),Bg.end=AQ(Bg.end,Bf),Bg.end&&Bg.end<=Bg.start&&(Bg.end=null),Bg._end=Bg.end?T(Bg.end):null,Bg.allDay===X&&(Bg.allDay=Aw(Bh.allDayDefault,Ad.allDayDefault)),Bg.className?"string"==typeof Bg.className&&(Bg.className=Bg.className.split(/\s+/)):Bg.className=[]}function Ah(Bf){Bf.className?"string"==typeof Bf.className&&(Bf.className=Bf.className.split(/\s+/)):Bf.className=[];for(var Bh=AX.sourceNormalizers,Bg=0;Bh.length>Bg;Bg++){Bh[Bg](Bf)}}function An(Bf,Bg){return Bf&&Bg&&AG(Bf)==AG(Bg)}function AG(Bf){return("object"==typeof Bf?Bf.events||Bf.url:"")||Bf}var Ao=this;Ao.isFetchNeeded=Ag,Ao.fetchEvents=Az,Ao.addEventSource=Ak,Ao.removeEventSource=AY,Ao.updateEvent=Aj,Ao.renderEvent=AK,Ao.removeEvents=At,Ao.clientEvents=Aa,Ao.normalizeEvent=AM;for(var Be,Aq,AP=Ao.trigger,Bd=Ao.getView,AW=Ao.reportEvents,A5={events:[]},A8=[A5],Bc=0,Bb=0,AD=0,AN=[],A7=0;AZ.length>A7;A7++){AJ(AZ[A7])}}function Av(Ad,Ag,Aa){return Ad.setFullYear(Ad.getFullYear()+Ag),Aa||Z(Ad),Ad}function AI(Aa,Ag,Ah){if(+Aa){var Aj=Aa.getMonth()+Ag,Ad=T(Aa);for(Ad.setDate(1),Ad.setMonth(Aj),Aa.setMonth(Aj),Ah||Z(Aa);Aa.getMonth()!=Ad.getMonth();){Aa.setDate(Aa.getDate()+(Ad>Aa?1:-1))}}return Aa}function Al(Aa,Ag,Ah){if(+Aa){var Aj=Aa.getDate()+Ag,Ad=T(Aa);Ad.setHours(9),Ad.setDate(Aj),Aa.setDate(Aj),Ah||Z(Aa),AC(Aa,Ad)}return Aa}function AC(Aa,Ad){if(+Aa){for(;Aa.getDate()!=Ad.getDate();){Aa.setTime(+Aa+(Ad>Aa?1:-1)*J)}}}function a(Aa,Ad){return Aa.setMinutes(Aa.getMinutes()+Ad),Aa}function Z(Aa){return Aa.setHours(0),Aa.setMinutes(0),Aa.setSeconds(0),Aa.setMilliseconds(0),Aa}function T(Aa,Ad){return Ad?Z(new Date(+Aa)):new Date(+Aa)}function AB(){var Aa,Ad=0;do{Aa=new Date(1970,Ad++,1)}while(Aa.getHours());return Aa}function o(Aa,Ad){return Math.round((T(Aa,!0)-T(Ad,!0))/Ai)}function Ay(Ag,Ad,Ah,Aa){Ad!==X&&Ad!=Ag.getFullYear()&&(Ag.setDate(1),Ag.setMonth(0),Ag.setFullYear(Ad)),Ah!==X&&Ah!=Ag.getMonth()&&(Ag.setDate(1),Ag.setMonth(Ah)),Aa!==X&&Ag.setDate(Aa)}function AQ(Aa,Ad){return"object"==typeof Aa?Aa:"number"==typeof Aa?new Date(1000*Aa):"string"==typeof Aa?Aa.match(/^\d+(\.\d+)?$/)?new Date(1000*parseFloat(Aa)):(Ad===X&&(Ad=!0),AU(Aa,Ad)||(Aa?new Date(Aa):null)):null}function AU(Ag,Ah){var Aj=Ag.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!Aj){return null}var Ak=new Date(Aj[1],0,1);if(Ah||!Aj[13]){var Aa=new Date(Aj[1],0,1,9,0);Aj[3]&&(Ak.setMonth(Aj[3]-1),Aa.setMonth(Aj[3]-1)),Aj[5]&&(Ak.setDate(Aj[5]),Aa.setDate(Aj[5])),AC(Ak,Aa),Aj[7]&&Ak.setHours(Aj[7]),Aj[8]&&Ak.setMinutes(Aj[8]),Aj[10]&&Ak.setSeconds(Aj[10]),Aj[12]&&Ak.setMilliseconds(1000*Number("0."+Aj[12])),AC(Ak,Aa)}else{if(Ak.setUTCFullYear(Aj[1],Aj[3]?Aj[3]-1:0,Aj[5]||1),Ak.setUTCHours(Aj[7]||0,Aj[8]||0,Aj[10]||0,Aj[12]?1000*Number("0."+Aj[12]):0),Aj[14]){var Ad=60*Number(Aj[16])+(Aj[18]?Number(Aj[18]):0);Ad*="-"==Aj[15]?1:-1,Ak=new Date(+Ak+1000*60*Ad)}}return Ak}function z(Ad){if("number"==typeof Ad){return 60*Ad}if("object"==typeof Ad){return 60*Ad.getHours()+Ad.getMinutes()}var Ag=Ad.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(Ag){var Aa=parseInt(Ag[1],10);return Ag[3]&&(Aa%=12,"p"==Ag[3].toLowerCase().charAt(0)&&(Aa+=12)),60*Aa+(Ag[2]?parseInt(Ag[2],10):0)}}function C(Ad,Ag,Aa){return v(Ad,null,Ag,Aa)}function v(Az,Ao,Ad,An){An=An||D;var Aj,Ag,At,Am,AD=Az,Aa=Ao,Aq=Ad.length,Ak="";for(Aj=0;Aq>Aj;Aj++){if(Ag=Ad.charAt(Aj),"'"==Ag){for(At=Aj+1;Aq>At;At++){if("'"==Ad.charAt(At)){AD&&(Ak+=At==Aj+1?"'":Ad.substring(Aj+1,At),Aj=At);break}}}else{if("("==Ag){for(At=Aj+1;Aq>At;At++){if(")"==Ad.charAt(At)){var Ah=C(AD,Ad.substring(Aj+1,At),An);parseInt(Ah.replace(/\D/,""),10)&&(Ak+=Ah),Aj=At;break}}}else{if("["==Ag){for(At=Aj+1;Aq>At;At++){if("]"==Ad.charAt(At)){var Au=Ad.substring(Aj+1,At),Ah=C(AD,Au,An);Ah!=C(Aa,Au,An)&&(Ak+=Ah),Aj=At;break}}}else{if("{"==Ag){AD=Ao,Aa=Az}else{if("}"==Ag){AD=Az,Aa=Ao}else{for(At=Aq;At>Aj;At--){if(Am=F[Ad.substring(Aj,At)]){AD&&(Ak+=Am(AD,An)),Aj=At-1;break}}At==Aj&&AD&&(Ak+=Ag)}}}}}}return Ak}function m(Ad){var Ag,Aa=new Date(Ad.getTime());return Aa.setDate(Aa.getDate()+4-(Aa.getDay()||7)),Ag=Aa.getTime(),Aa.setMonth(0),Aa.setDate(1),Math.floor(Math.round((Ag-Aa)/86400000)/7)+1}function U(Aa){return Aa.end?AE(Aa.end,Aa.allDay):Al(T(Aa.start),1)}function AE(Aa,Ad){return Aa=T(Aa),Ad||Aa.getHours()||Aa.getMinutes()?Al(Aa,1):Z(Aa)}function AR(Aa,Ag,Ad){Aa.unbind("mouseover").mouseover(function(Am){for(var Ah,Ak,Aj,An=Am.target;An!=this;){Ah=An,An=An.parentNode}(Ak=Ah._fci)!==X&&(Ah._fci=X,Aj=Ag[Ak],Ad(Aj.event,Aj.element,Aj),H(Am.target).trigger(Am)),Am.stopPropagation()})}function AS(Ag,Ah,Aj){for(var Ad,Aa=0;Ag.length>Aa;Aa++){Ad=H(Ag[Aa]),Ad.width(Math.max(0,Ah-A3(Ad,Aj)))}}function A1(Ag,Ah,Aj){for(var Ad,Aa=0;Ag.length>Aa;Aa++){Ad=H(Ag[Aa]),Ad.height(Math.max(0,Ah-Ae(Ad,Aj)))}}function A3(Aa,Ad){return k(Aa)+j(Aa)+(Ad?O(Aa):0)}function k(Aa){return(parseFloat(H.css(Aa[0],"paddingLeft",!0))||0)+(parseFloat(H.css(Aa[0],"paddingRight",!0))||0)}function O(Aa){return(parseFloat(H.css(Aa[0],"marginLeft",!0))||0)+(parseFloat(H.css(Aa[0],"marginRight",!0))||0)}function j(Aa){return(parseFloat(H.css(Aa[0],"borderLeftWidth",!0))||0)+(parseFloat(H.css(Aa[0],"borderRightWidth",!0))||0)}function Ae(Aa,Ad){return n(Aa)+b(Aa)+(Ad?q(Aa):0)}function n(Aa){return(parseFloat(H.css(Aa[0],"paddingTop",!0))||0)+(parseFloat(H.css(Aa[0],"paddingBottom",!0))||0)}function q(Aa){return(parseFloat(H.css(Aa[0],"marginTop",!0))||0)+(parseFloat(H.css(Aa[0],"marginBottom",!0))||0)}function b(Aa){return(parseFloat(H.css(Aa[0],"borderTopWidth",!0))||0)+(parseFloat(H.css(Aa[0],"borderBottomWidth",!0))||0)}function p(){}function As(Aa,Ad){return Aa-Ad}function d(Aa){return Math.max.apply(Math,Aa)}function y(Aa){return(10>Aa?"0":"")+Aa}function w(Aa,Ag){if(Aa[Ag]!==X){return Aa[Ag]}for(var Aj,Ad=Ag.split(/(?=[A-Z])/),Ah=Ad.length-1;Ah>=0;Ah--){if(Aj=Aa[Ad[Ah].toLowerCase()],Aj!==X){return Aj}}return Aa[""]}function K(Aa){return Aa.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function e(Aa){Aa.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return !1})}function AL(Aa){Aa.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function A0(An,Aj){var Ak=An.source||{},Ah=An.color,Aq=Ak.color,Am=Aj("eventColor"),Ao=An.backgroundColor||Ah||Ak.backgroundColor||Aq||Aj("eventBackgroundColor")||Am,Ag=An.borderColor||Ah||Ak.borderColor||Aq||Aj("eventBorderColor")||Am,Aa=An.textColor||Ak.textColor||Aj("eventTextColor"),Ad=[];return Ao&&Ad.push("background-color:"+Ao),Ag&&Ad.push("border-color:"+Ag),Aa&&Ad.push("color:"+Aa),Ad.join(";")}function g(Ag,Ah,Aj){if(H.isFunction(Ag)&&(Ag=[Ag]),Ag){var Ad,Aa;for(Ad=0;Ag.length>Ad;Ad++){Aa=Ag[Ad].apply(Ah,Aj)||Aa}return Aa}}function Aw(){for(var Aa=0;arguments.length>Aa;Aa++){if(arguments[Aa]!==X){return arguments[Aa]}}}function V(Ah,Aj){function Ak(AD,AM){AM&&(AI(AD,AM),AD.setDate(1));var At=Ad("firstDay"),AK=T(AD,!0);AK.setDate(1);var Az=AI(T(AK),1),AG=T(AK);Al(AG,-((AG.getDay()-At+7)%7)),Ao(AG);var Aq=T(Az);Al(Aq,(7-Aq.getDay()+At)%7),Ao(Aq,-1,!0);var Au=Aa(),AJ=Math.round(o(Aq,AG)/7);"fixed"==Ad("weekMode")&&(Al(Aq,7*(6-AJ)),AJ=6),Ag.title=An(AK,Ad("titleFormat")),Ag.start=AK,Ag.end=Az,Ag.visStart=AG,Ag.visEnd=Aq,Am(AJ,Au,!0)}var Ag=this;Ag.render=Ak,W.call(Ag,Ah,Aj,"month");var Ad=Ag.opt,Am=Ag.renderBasic,Ao=Ag.skipHiddenDays,Aa=Ag.getCellsPerWeek,An=Aj.formatDate}function AO(An,Aj){function Ak(Au,Aq){Aq&&Al(Au,7*Aq);var AD=Al(T(Au),-((Au.getDay()-Ad("firstDay")+7)%7)),Az=Al(T(AD),7),At=T(AD);Ao(At);var AG=T(Az);Ao(AG,-1,!0);var AJ=Ag();Ah.start=AD,Ah.end=Az,Ah.visStart=At,Ah.visEnd=AG,Ah.title=Aa(At,Al(T(AG),-1),Ad("titleFormat")),Am(1,AJ,!1)}var Ah=this;Ah.render=Ak,W.call(Ah,An,Aj,"basicWeek");var Ad=Ah.opt,Am=Ah.renderBasic,Ao=Ah.skipHiddenDays,Ag=Ah.getCellsPerWeek,Aa=Aj.formatDates}function R(Am,Ah){function Aj(Ao,Aq){Aq&&Al(Ao,Aq),An(Ao,0>Aq?-1:1);var Au=T(Ao,!0),At=Al(T(Au),1);Ag.title=Ad(Ao,Aa("titleFormat")),Ag.start=Ag.visStart=Au,Ag.end=Ag.visEnd=At,Ak(1,1,!1)}var Ag=this;Ag.render=Aj,W.call(Ag,Am,Ah,"basicDay");var Aa=Ag.opt,Ak=Ag.renderBasic,An=Ag.skipHiddenDays,Ad=Ah.formatDate}function W(Bp,At,Cz){function Bv(Bz,BB,BA){By=Bz,Bq=BB,Bf=BA,Az(),Bn||AK(),Cs()}function Az(){AW=AY("theme")?"ui":"fc",Bw=AY("columnFormat"),Cy=AY("weekNumbers"),A5=AY("weekNumberTitle"),Ag="iso"!=AY("weekNumberCalculation")?"w":"W"}function AK(){Ba=H("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Bp)}function Cs(){var Bz=A9();Am&&Am.remove(),Am=H(Bz).appendTo(Bp),CA=Am.find("thead"),Ct=CA.find(".fc-day-header"),Bn=Am.find("tbody"),AM=Bn.find("tr"),AP=Bn.find(".fc-day"),CD=AM.find("td:first-child"),Ak=AM.eq(0).find(".fc-day > div"),Ao=AM.eq(0).find(".fc-day-content > div"),AL(CA.add(CA.find("tr"))),AL(AM),AM.eq(0).addClass("fc-first"),AM.filter(":last").addClass("fc-last"),AP.each(function(BA,BB){var BC=Bt(Math.floor(BA/Bq),BA%Bq);Cw("dayRender",Bm,BC,H(BB))}),Bb(AP)}function A9(){var Bz="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+Bu()+Bc()+"</table>";return Bz}function Bu(){var BA,BB,Bz=AW+"-widget-header",BC="";for(BC+="<thead><tr>",Cy&&(BC+="<th class='fc-week-number "+Bz+"'>"+K(A5)+"</th>"),BA=0;Bq>BA;BA++){BB=Bt(0,BA),BC+="<th class='fc-day-header fc-"+s[BB.getDay()]+" "+Bz+"'>"+K(Be(BB,Bw))+"</th>"}return BC+="</tr></thead>"}function Bc(){var BB,BC,BA,BD=AW+"-widget-content",Bz="";for(Bz+="<tbody>",BB=0;By>BB;BB++){for(Bz+="<tr class='fc-week'>",Cy&&(BA=Bt(BB,0),Bz+="<td class='fc-week-number "+BD+"'><div>"+K(Be(BA,Ag))+"</div></td>"),BC=0;Bq>BC;BC++){BA=Bt(BB,BC),Bz+=Bi(BA)}Bz+="</tr>"}return Bz+="</tbody>"}function Bi(Bz){var BD=AW+"-widget-content",BB=Bm.start.getMonth(),BE=Z(new Date),BA="",BC=["fc-day","fc-"+s[Bz.getDay()],BD];return Bz.getMonth()!=BB&&BC.push("fc-other-month"),+Bz==+BE?BC.push("fc-today",AW+"-state-highlight"):BE>Bz?BC.push("fc-past"):BC.push("fc-future"),BA+="<td class='"+BC.join(" ")+"' data-date='"+Be(Bz,"yyyy-MM-dd")+"'><div>",Bf&&(BA+="<div class='fc-day-number'>"+Bz.getDate()+"</div>"),BA+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>"}function Bx(BC){Bl=BC;var BA,BD,Bz,BB=Bl-CA.height();"variable"==AY("weekMode")?BA=BD=Math.floor(BB/(1==By?2:6)):(BA=Math.floor(BB/By),BD=BB-BA*(By-1)),CD.each(function(BE,BF){By>BE&&(Bz=H(BF),Bz.find("> div").css("min-height",(BE==By-1?BD:BA)-Ae(Bz)))})}function Bk(Bz){Ah=Bz,Cu.clear(),Bd.clear(),Cx=0,Cy&&(Cx=CA.find("th.fc-week-number").outerWidth()),Br=Math.floor((Ah-Cx)/Bq),AS(Ct.slice(0,-1),Br)}function Bb(Bz){Bz.click(An).mousedown(AN)}function An(BA){if(!AY("selectable")){var Bz=AU(H(this).data("date"));Cw("dayClick",this,Bz,!0,BA)}}function Bs(Bz,BD,BB){BB&&AD.build();for(var BE=AJ(Bz,BD),BA=0;BE.length>BA;BA++){var BC=BE[BA];Bb(Bh(BC.row,BC.leftCol,BC.row,BC.rightCol))}}function Bh(BB,BC,BD,Bz){var BA=AD.rect(BB,BC,BD,Bz,Bp);return AG(BA,Bp)}function AZ(Bz){return T(Bz)}function Ce(Bz,BA){Bs(Bz,Al(T(BA),1),!0)}function A8(){Bo()}function A7(BB,BC,BA){var BD=Aj(BB),Bz=AP[BD.row*Bq+BD.col];Cw("dayClick",Bz,BB,BC,BA)}function Aa(Bz,BA){CC.start(function(BB){Bo(),BB&&Bh(BB.row,BB.col,BB.row,BB.col)},BA)}function Ad(BB,BC,BA){var BD=CC.stop();if(Bo(),BD){var Bz=Bt(BD);Cw("drop",BB,Bz,!0,BC,BA)}}function Bj(Bz){return T(Bz.start)}function Cv(Bz){return Cu.left(Bz)}function Au(Bz){return Cu.right(Bz)}function Aq(Bz){return Bd.left(Bz)}function Bg(Bz){return Bd.right(Bz)}function CB(Bz){return AM.eq(Bz)}var Bm=this;Bm.renderBasic=Bv,Bm.setHeight=Bx,Bm.setWidth=Bk,Bm.renderDayOverlay=Bs,Bm.defaultSelectionEnd=AZ,Bm.renderSelection=Ce,Bm.clearSelection=A8,Bm.reportDayClick=A7,Bm.dragStart=Aa,Bm.dragStop=Ad,Bm.defaultEventEnd=Bj,Bm.getHoverListener=function(){return CC},Bm.colLeft=Cv,Bm.colRight=Au,Bm.colContentLeft=Aq,Bm.colContentRight=Bg,Bm.getIsCellAllDay=function(){return !0},Bm.allDayRow=CB,Bm.getRowCnt=function(){return By},Bm.getColCnt=function(){return Bq},Bm.getColWidth=function(){return Br},Bm.getDaySegmentContainer=function(){return Ba},E.call(Bm,Bp,At,Cz),P.call(Bm),Ac.call(Bm),i.call(Bm);var Am,CA,Ct,Bn,AM,AP,CD,Ak,Ao,Ba,Ah,Bl,Br,Cx,By,Bq,Bf,AD,CC,Cu,Bd,AW,Bw,Cy,A5,Ag,AY=Bm.opt,Cw=Bm.trigger,AG=Bm.renderOverlay,Bo=Bm.clearOverlays,AN=Bm.daySelectionMousedown,Bt=Bm.cellToDate,Aj=Bm.dateToCell,AJ=Bm.rangeToSegments,Be=At.formatDate;e(Bp.addClass("fc-grid")),AD=new A4(function(BC,BA){var BD,Bz,BB;Ct.each(function(BF,BE){BD=H(BE),Bz=BD.offset().left,BF&&(BB[1]=Bz),BB=[Bz],BA[BF]=BB}),BB[1]=Bz+BD.outerWidth(),AM.each(function(BF,BE){By>BF&&(BD=H(BE),Bz=BD.offset().top,BF&&(BB[1]=Bz),BB=[Bz],BC[BF]=BB)}),BB[1]=Bz+BD.outerHeight()}),CC=new AV(AD),Cu=new Af(function(Bz){return Ak.eq(Bz)}),Bd=new Af(function(Bz){return Ao.eq(Bz)})}function i(){function Ad(Aj,Ah){Aa.renderDayEvents(Aj,Ah)}function Ag(){Aa.getDaySegmentContainer().empty()}var Aa=this;Aa.renderEvents=Ad,Aa.clearEvents=Ag,A2.call(Aa)}function L(An,Aj){function Ak(Au,Aq){Aq&&Al(Au,7*Aq);var AD=Al(T(Au),-((Au.getDay()-Ad("firstDay")+7)%7)),Az=Al(T(AD),7),At=T(AD);Ao(At);var AG=T(Az);Ao(AG,-1,!0);var AJ=Ag();Ah.title=Aa(At,Al(T(AG),-1),Ad("titleFormat")),Ah.start=AD,Ah.end=Az,Ah.visStart=At,Ah.visEnd=AG,Am(AJ)}var Ah=this;Ah.render=Ak,l.call(Ah,An,Aj,"agendaWeek");var Ad=Ah.opt,Am=Ah.renderAgenda,Ao=Ah.skipHiddenDays,Ag=Ah.getCellsPerWeek,Aa=Aj.formatDates}function AF(Am,Ah){function Aj(Ao,Aq){Aq&&Al(Ao,Aq),An(Ao,0>Aq?-1:1);var Au=T(Ao,!0),At=Al(T(Au),1);Ag.title=Ad(Ao,Aa("titleFormat")),Ag.start=Ag.visStart=Au,Ag.end=Ag.visEnd=At,Ak(1)}var Ag=this;Ag.render=Aj,l.call(Ag,Am,Ah,"agendaDay");var Aa=Ag.opt,Ak=Ag.renderAgenda,An=Ag.skipHiddenDays,Ad=Ah.formatDate}function l(Di,A5,AM){function Bp(Bz){Df=Bz,CT(),Bf?AZ():Dj()}function CT(){Aa=C9("theme")?"ui":"fc",Dm=C9("isRTL"),C6=z(C9("minTime")),AG=z(C9("maxTime")),Bl=C9("columnFormat"),Br=C9("weekNumbers"),Dd=C9("weekNumberTitle"),Bx="iso"!=C9("weekNumberCalculation")?"w":"W",AP=C9("snapMinutes")||C9("slotMinutes")}function Dj(){var BC,BF,Bz,BD,BG,BB=Aa+"-widget-header",BE=Aa+"-widget-content",BA=0==C9("slotMinutes")%15;for(AZ(),Bn=H("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(Di),C9("allDaySlot")?(Dl=H("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Bn),BC="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+BB+" fc-agenda-axis'>"+C9("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+BB+" fc-agenda-gutter'>&nbsp;</th></tr></table>",AY=H(BC).appendTo(Bn),CQ=AY.find("tr"),Bv(CQ.find("td")),Bn.append("<div class='fc-agenda-divider "+BB+"'><div class='fc-agenda-divider-inner'/></div>")):Dl=H([]),AN=H("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(Bn),Am=H("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(AN),Dh=H("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(Am),BC="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",BF=AB(),BD=a(T(BF),AG),a(BF,C6),C0=0,Bz=0;BD>BF;Bz++){BG=BF.getMinutes(),BC+="<tr class='fc-slot"+Bz+" "+(BG?"fc-minor":"")+"'><th class='fc-agenda-axis "+BB+"'>"+(BA&&BG?"&nbsp;":Bc(BF,C9("axisFormat")))+"</th><td class='"+BE+"'><div style='position:relative'>&nbsp;</div></td></tr>",a(BF,C9("slotMinutes")),C0++}BC+="</tbody></table>",C4=H(BC).appendTo(Am),Bb(C4.find("td"))}function AZ(){var Bz=Bw();Bf&&Bf.remove(),Bf=H(Bz).appendTo(Di),Dk=Bf.find("thead"),A7=Dk.find("th").slice(1,-1),CR=Bf.find("tbody"),C8=CR.find("td").slice(0,-1),Bs=C8.find("> div"),CX=C8.find(".fc-day-content > div"),Dq=C8.eq(0),Dg=Bs.eq(0),AL(Dk.add(Dk.find("tr"))),AL(CR.add(CR.find("tr")))}function Bw(){var Bz="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+C2()+Be()+"</table>";return Bz}function C2(){var BB,BC,BA,BD=Aa+"-widget-header",Bz="";for(Bz+="<thead><tr>",Br?(BB=At(0,0),BC=Bc(BB,Bx),Dm?BC+=Dd:BC=Dd+BC,Bz+="<th class='fc-agenda-axis fc-week-number "+BD+"'>"+K(BC)+"</th>"):Bz+="<th class='fc-agenda-axis "+BD+"'>&nbsp;</th>",BA=0;Df>BA;BA++){BB=At(0,BA),Bz+="<th class='fc-"+s[BB.getDay()]+" fc-col"+BA+" "+BD+"'>"+K(Bc(BB,Bl))+"</th>"}return Bz+="<th class='fc-agenda-gutter "+BD+"'>&nbsp;</th></tr></thead>"}function Be(){var BG,BC,BE,BF,BH,Bz=Aa+"-widget-header",BD=Aa+"-widget-content",BB=Z(new Date),BA="";for(BA+="<tbody><tr><th class='fc-agenda-axis "+Bz+"'>&nbsp;</th>",BE="",BC=0;Df>BC;BC++){BG=At(0,BC),BH=["fc-col"+BC,"fc-"+s[BG.getDay()],BD],+BG==+BB?BH.push(Aa+"-state-highlight","fc-today"):BB>BG?BH.push("fc-past"):BH.push("fc-future"),BF="<td class='"+BH.join(" ")+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",BE+=BF}return BA+=BE,BA+="<td class='fc-agenda-gutter "+BD+"'>&nbsp;</td></tr></tbody>"}function Da(Bz){Bz===X&&(Bz=CY),CY=Bz,Ao={};var BB=CR.position().top,BC=AN.position().top,BA=Math.min(Bz-BB,C4.height()+BC+1);Dg.height(BA-Ae(Dq)),Bn.css("top",BB),AN.height(BA-BC-1),AW=C4.find("tr:first").height()+1,Bm=C9("slotMinutes")/AP,CU=AW/Bm}function Do(BB){CW=BB,AJ.clear(),A8.clear();var Bz=Dk.find("th:first");AY&&(Bz=Bz.add(AY.find("th:first"))),Bz=Bz.add(C4.find("th:first")),Bo=0,AS(Bz.width("").each(function(BD,BE){Bo=Math.max(Bo,H(BE).outerWidth())}),Bo);var BC=Bf.find(".fc-agenda-gutter");AY&&(BC=BC.add(AY.find("th.fc-agenda-gutter")));var BA=AN[0].clientWidth;Bq=AN.width()-BA,Bq?(AS(BC,Bq),BC.show().prev().removeClass("fc-last")):BC.hide().prev().addClass("fc-last"),By=Math.floor((BA-Bo)/Df),AS(A7.slice(0,-1),By)}function Aj(){function BA(){AN.scrollTop(BC)}var BB=AB(),Bz=T(BB);Bz.setHours(C9("firstHour"));var BC=Ba(BB,Bz)+1;BA(),setTimeout(BA,0)}function De(){Aj()}function Bv(Bz){Bz.click(An).mousedown(Bj)}function Bb(Bz){Bz.click(An).mousedown(Db)}function An(Bz){if(!C9("selectable")){var BD=Math.min(Df-1,Math.floor((Bz.pageX-Bf.offset().left-Bo)/By)),BB=At(0,BD),BE=this.parentNode.className.match(/fc-slot(\d+)/);if(BE){var BA=parseInt(BE[1])*C9("slotMinutes"),BC=Math.floor(BA/60);BB.setHours(BC),BB.setMinutes(BA%60+C6),Ad("dayClick",C8[BD],BB,!1,Bz)}else{Ad("dayClick",C8[BD],BB,!0,Bz)}}}function Ak(Bz,BD,BB){BB&&C3.build();for(var BE=Ag(Bz,BD),BA=0;BE.length>BA;BA++){var BC=BE[BA];Bv(Au(BC.row,BC.leftCol,BC.row,BC.rightCol))}}function Au(BB,BC,BA,BD){var Bz=C3.rect(BB,BC,BA,BD,Bn);return CV(Bz,Bn)}function Bi(BH,BD){for(var BA=0;Df>BA;BA++){var BG=At(0,BA),Bz=Al(T(BG),1),BB=new Date(Math.max(BG,BH)),BF=new Date(Math.min(Bz,BD));if(BF>BB){var BC=C3.rect(0,BA,0,BA,Am),BI=Ba(BG,BB),BE=Ba(BG,BF);BC.top=BI,BC.height=BE-BI,Bb(CV(BC,Am))}}}function Ah(Bz){return AJ.left(Bz)}function Bd(Bz){return A8.left(Bz)}function Dp(Bz){return AJ.right(Bz)}function C7(Bz){return A8.right(Bz)}function Bt(Bz){return C9("allDaySlot")&&!Bz.row}function CS(Bz){var BB=At(0,Bz.col),BA=Bz.row;return C9("allDaySlot")&&BA--,BA>=0&&a(BB,C6+BA*AP),BB}function Ba(Bz,BD){if(Bz=T(Bz,!0),a(T(Bz),C6)>BD){return 0}if(BD>=a(T(Bz),AG)){return C4.height()}var BE=C9("slotMinutes"),BA=60*BD.getHours()+BD.getMinutes()-C6,BB=Math.floor(BA/BE),BC=Ao[BB];return BC===X&&(BC=Ao[BB]=C4.find("tr").eq(BB).find("td div")[0].offsetTop),Math.max(0,Math.round(BC-1+AW*(BA%BE/BE)))}function CP(){return CQ}function CZ(Bz){var BA=T(Bz.start);return Bz.allDay?BA:a(BA,C9("defaultEventMinutes"))}function C5(Bz,BA){return BA?T(Bz):a(T(Bz),C9("slotMinutes"))}function Aq(Bz,BB,BA){BA?C9("allDaySlot")&&Ak(Bz,Al(T(BB),1),!0):AK(Bz,BB)}function AK(BC,BD){var BF=C9("selectHelper");if(C3.build(),BF){var BA=Bk(BC).col;if(BA>=0&&Df>BA){var BE=C3.rect(0,BA,0,BA,Am),BG=Ba(BC,BC),BB=Ba(BC,BD);if(BB>BG){if(BE.top=BG,BE.height=BB-BG,BE.left+=2,BE.width-=5,H.isFunction(BF)){var Bz=BF(BC,BD);Bz&&(BE.position="absolute",A9=H(Bz).css(BE).appendTo(Am))}else{BE.isStart=!0,BE.isEnd=!0,A9=H(Dr({title:"",start:BC,end:BD,className:["fc-select-helper"],editable:!1},BE)),A9.css("opacity",C9("dragOpacity"))}A9&&(Bb(A9),Am.append(A9),AS(A9,BE.width,!0),A1(A9,BE.height,!0))}}}else{Bi(BC,BD)}}function Dn(){Bu(),A9&&(A9.remove(),A9=null)}function Db(BA){if(1==BA.which&&C9("selectable")){AD(BA);var Bz;Bh.start(function(BB,BE){if(Dn(),BB&&BB.col==BE.col&&!Bt(BB)){var BD=CS(BE),BC=CS(BB);Bz=[BD,a(T(BD),AP),BC,a(T(BC),AP)].sort(As),AK(Bz[0],Bz[3])}else{Bz=null}},BA),H(document).one("mouseup",function(BB){Bh.stop(),Bz&&(+Bz[0]==+Bz[1]&&Bg(Bz[0],!1,BB),Az(Bz[0],Bz[3],!1,BB))})}}function Bg(Bz,BB,BA){Ad("dayClick",C8[Bk(Bz).col],Bz,BB,BA)}function Dc(Bz,BA){Bh.start(function(BB){if(Bu(),BB){if(Bt(BB)){Au(BB.row,BB.col,BB.row,BB.col)}else{var BC=CS(BB),BD=a(T(BC),C9("defaultEventMinutes"));Bi(BC,BD)}}},BA)}function C1(BA,BB,Bz){var BC=Bh.stop();Bu(),BC&&Ad("drop",BA,CS(BC),Bt(BC),BB,Bz)}var CO=this;CO.renderAgenda=Bp,CO.setWidth=Do,CO.setHeight=Da,CO.afterRender=De,CO.defaultEventEnd=CZ,CO.timePosition=Ba,CO.getIsCellAllDay=Bt,CO.allDayRow=CP,CO.getCoordinateGrid=function(){return C3},CO.getHoverListener=function(){return Bh},CO.colLeft=Ah,CO.colRight=Dp,CO.colContentLeft=Bd,CO.colContentRight=C7,CO.getDaySegmentContainer=function(){return Dl},CO.getSlotSegmentContainer=function(){return Dh},CO.getMinMinute=function(){return C6},CO.getMaxMinute=function(){return AG},CO.getSlotContainer=function(){return Am},CO.getRowCnt=function(){return 1},CO.getColCnt=function(){return Df},CO.getColWidth=function(){return By},CO.getSnapHeight=function(){return CU},CO.getSnapMinutes=function(){return AP},CO.defaultSelectionEnd=C5,CO.renderDayOverlay=Ak,CO.renderSelection=Aq,CO.clearSelection=Dn,CO.reportDayClick=Bg,CO.dragStart=Dc,CO.dragStop=C1,E.call(CO,Di,A5,AM),P.call(CO),Ac.call(CO),x.call(CO);var Bf,Dk,A7,CR,C8,Bs,CX,Dq,Dg,Bn,Dl,AY,CQ,AN,Am,Dh,C4,A9,CW,CY,Bo,By,Bq,AW,AP,Bm,CU,Df,C0,C3,Bh,AJ,A8,Aa,Dm,C6,AG,Bl,Br,Dd,Bx,C9=CO.opt,Ad=CO.trigger,CV=CO.renderOverlay,Bu=CO.clearOverlays,Az=CO.reportSelection,AD=CO.unselect,Bj=CO.daySelectionMousedown,Dr=CO.slotSegHtml,At=CO.cellToDate,Bk=CO.dateToCell,Ag=CO.rangeToSegments,Bc=A5.formatDate,Ao={};e(Di.addClass("fc-agenda")),C3=new A4(function(BD,BF){function BG(BJ){return Math.max(BB,Math.min(BI,BJ))}var Bz,BA,BE;A7.each(function(BK,BJ){Bz=H(BJ),BA=Bz.offset().left,BK&&(BE[1]=BA),BE=[BA],BF[BK]=BE}),BE[1]=BA+Bz.outerWidth(),C9("allDaySlot")&&(Bz=CQ,BA=Bz.offset().top,BD[0]=[BA,BA+Bz.outerHeight()]);for(var BC=Am.offset().top,BB=AN.offset().top,BI=BB+AN.outerHeight(),BH=0;C0*Bm>BH;BH++){BD.push([BG(BC+CU*BH),BG(BC+CU*(BH+1))])}}),Bh=new AV(C3),AJ=new Af(function(Bz){return Bs.eq(Bz)}),A8=new Af(function(Bz){return CX.eq(Bz)})}function x(){function A8(Bt,Bw){var Bu,Bx=Bt.length,Bs=[],Bv=[];for(Bu=0;Bx>Bu;Bu++){Bt[Bu].allDay?Bs.push(Bt[Bu]):Bv.push(Bt[Bu])}AW("allDaySlot")&&(AP(Bs,Bw),Au()),Aj(Bp(Bv),Bw)}function AK(){At().empty(),Bo().empty()}function Bp(By){var Bt,BB,Bs,Bx,Bu,BC=Bl(),Bv=Ba(),Bz=Ag(),BA=H.map(By,Am),Bw=[];for(BB=0;BC>BB;BB++){for(Bt=Bj(0,BB),a(Bt,Bv),Bu=Ah(By,BA,Bt,a(T(Bt),Bz-Bv)),Bu=S(Bu),Bs=0;Bu.length>Bs;Bs++){Bx=Bu[Bs],Bx.col=BB,Bw.push(Bx)}}return Bw}function Ah(BC,BA,Bs,BD){var Bw,Bx,BF,Bz,By,Bv,Bt,BE,BB=[],Bu=BC.length;for(Bw=0;Bu>Bw;Bw++){Bx=BC[Bw],BF=Bx.start,Bz=BA[Bw],Bz>Bs&&BD>BF&&(Bs>BF?(By=T(Bs),Bt=!1):(By=BF,Bt=!0),Bz>BD?(Bv=T(BD),BE=!1):(Bv=Bz,BE=!0),BB.push({event:Bx,start:By,end:Bv,isStart:Bt,isEnd:BE}))}return BB.sort(AH)}function Am(Bs){return Bs.end?T(Bs.end):a(T(Bs.start),AW("defaultEventMinutes"))}function Aj(BG,BK){var BA,BH,BI,BJ,By,BF,Bw,BM,BE,Bt,BL,Bz,BC,BB,Bs,Bv,BN=BG.length,Bu="",BD=Bo(),Bx=AW("isRTL");for(BA=0;BN>BA;BA++){BH=BG[BA],BI=BH.event,BJ=A9(BH.start,BH.start),By=A9(BH.start,BH.end),BF=Bg(BH.col),Bw=Bn(BH.col),BM=Bw-BF,Bw-=0.025*BM,BM=Bw-BF,BE=BM*(BH.forwardCoord-BH.backwardCoord),AW("slotEventOverlap")&&(BE=Math.max(2*(BE-10),BE)),Bx?(BL=Bw-BH.backwardCoord*BM,Bt=BL-BE):(Bt=BF+BH.backwardCoord*BM,BL=Bt+BE),Bt=Math.max(Bt,BF),BL=Math.min(BL,Bw),BE=BL-Bt,BH.top=BJ,BH.left=Bt,BH.outerWidth=BE,BH.outerHeight=By-BJ,Bu+=Aq(BI,BH)}for(BD[0].innerHTML=Bu,Bz=BD.children(),BA=0;BN>BA;BA++){BH=BG[BA],BI=BH.event,BC=H(Bz[BA]),BB=AZ("eventRender",BI,BI,BC),BB===!1?BC.remove():(BB&&BB!==!0&&(BC.remove(),BC=H(BB).css({position:"absolute",top:BH.top,left:BH.left}).appendTo(BD)),BH.element=BC,BI._id===BK?Bk(BI,BC,BH):BC[0]._fci=BA,Bf(BI,BC))}for(AR(BD,BG,Bk),BA=0;BN>BA;BA++){BH=BG[BA],(BC=BH.element)&&(BH.vsides=Ae(BC,!0),BH.hsides=A3(BC,!0),Bs=BC.find(".fc-event-title"),Bs.length&&(BH.contentTop=Bs[0].offsetTop))}for(BA=0;BN>BA;BA++){BH=BG[BA],(BC=BH.element)&&(BC[0].style.width=Math.max(0,BH.outerWidth-BH.hsides)+"px",Bv=Math.max(0,BH.outerHeight-BH.vsides),BC[0].style.height=Bv+"px",BI=BH.event,BH.contentTop!==X&&10>Bv-BH.contentTop&&(BC.find("div.fc-event-time").text(An(BI.start,AW("timeFormat"))+" - "+BI.title),BC.find("div.fc-event-title").remove()),AZ("eventAfterRender",BI,BI,BC))}}function Aq(Bt,Bw){var Bu="<",Bx=Bt.url,Bs=A0(Bt,AW),Bv=["fc-event","fc-event-vert"];return AG(Bt)&&Bv.push("fc-event-draggable"),Bw.isStart&&Bv.push("fc-event-start"),Bw.isEnd&&Bv.push("fc-event-end"),Bv=Bv.concat(Bt.className),Bt.source&&(Bv=Bv.concat(Bt.source.className||[])),Bu+=Bx?"a href='"+K(Bt.url)+"'":"div",Bu+=" class='"+Bv.join(" ")+"' style='position:absolute;top:"+Bw.top+"px;left:"+Bw.left+"px;"+Bs+"'><div class='fc-event-inner'><div class='fc-event-time'>"+K(Ad(Bt.start,Bt.end,AW("timeFormat")))+"</div><div class='fc-event-title'>"+K(Bt.title||"")+"</div></div><div class='fc-event-bg'></div>",Bw.isEnd&&A7(Bt)&&(Bu+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),Bu+="</"+(Bx?"a":"div")+">"}function Bk(Bs,Bu,Bt){var Bv=Bu.find("div.fc-event-time");AG(Bs)&&AY(Bs,Bu,Bv),Bt.isEnd&&A7(Bs)&&Br(Bs,Bu,Bv),AD(Bs,Bu)}function Bb(Bt,BA,Bs){function BB(){By||(BA.width(Bv).height("").draggable("option","grid",null),By=!0)}var Bv,Bx,BF,Bz=Bs.isStart,By=!0,Bu=Az(),Bw=AN(),BC=Ak(),BE=Bm(),BD=Ba();BA.draggable({opacity:AW("dragOpacity","month"),revertDuration:AW("dragRevertDuration"),start:function(BH,BG){AZ("eventDragStart",BA,Bt,BH,BG),Aa(Bt,BA),Bv=BA.width(),Bu.start(function(BL,BK){if(Ao(),BL){Bx=!1;var BJ=Bj(0,BK.col),BI=Bj(0,BL.col);BF=o(BI,BJ),BL.row?Bz?By&&(BA.width(Bw-10),A1(BA,BC*Math.round((Bt.end?(Bt.end-Bt.start)/r:AW("defaultEventMinutes"))/BE)),BA.draggable("option","grid",[Bw,1]),By=!1):Bx=!0:(AM(Al(T(Bt.start),BF),Al(U(Bt),BF)),BB()),Bx=Bx||By&&!BF}else{BB(),Bx=!0}BA.draggable("option","revert",Bx)},BH,"drag")},stop:function(BH,BI){if(Bu.stop(),Ao(),AZ("eventDragStop",BA,Bt,BH,BI),Bx){BB(),BA.css("filter",""),Bq(Bt,BA)}else{var BG=0;By||(BG=Math.round((BA.offset().top-Be().offset().top)/BC)*BE+BD-(60*Bt.start.getHours()+Bt.start.getMinutes())),Bi(this,Bt,BF,BG,By,BH,BI)}}})}function AY(BE,Bz,BD){function BK(){Ao(),BJ&&(By?(BD.hide(),Bz.draggable("option","grid",null),AM(Al(T(BE.start),BG),Al(U(BE),BG))):(Bx(Bu),BD.css("display",""),Bz.draggable("option","grid",[Bt,Bw])))}function Bx(BP){var BN,BO=a(T(BE.start),BP);BE.end&&(BN=a(T(BE.end),BP)),BD.text(Ad(BO,BN,AW("timeFormat")))}var BI,BC,BJ,BH,By,BM,BB,BL,BG,Bu,BA,Bv=Bh.getCoordinateGrid(),Bs=Bl(),Bt=AN(),Bw=Ak(),BF=Bm();Bz.draggable({scroll:!1,grid:[Bt,Bw],axis:1==Bs?"y":!1,opacity:AW("dragOpacity"),revertDuration:AW("dragRevertDuration"),start:function(BO,BN){AZ("eventDragStart",Bz,BE,BO,BN),Aa(BE,Bz),Bv.build(),BI=Bz.position(),BC=Bv.cell(BO.pageX,BO.pageY),BJ=BH=!0,By=BM=AJ(BC),BB=BL=0,BG=0,Bu=BA=0},drag:function(BQ,BP){var BS=Bv.cell(BQ.pageX,BQ.pageY);if(BJ=!!BS){if(By=AJ(BS),BB=Math.round((BP.position.left-BI.left)/Bt),BB!=BL){var BO=Bj(0,BC.col),BR=BC.col+BB;BR=Math.max(0,BR),BR=Math.min(Bs-1,BR);var BN=Bj(0,BR);BG=o(BN,BO)}By||(Bu=Math.round((BP.position.top-BI.top)/Bw)*BF)}(BJ!=BH||By!=BM||BB!=BL||Bu!=BA)&&(BK(),BH=BJ,BM=By,BL=BB,BA=Bu),Bz.draggable("option","revert",!BJ)},stop:function(BN,BO){Ao(),AZ("eventDragStop",Bz,BE,BN,BO),BJ&&(By||BG||Bu)?Bi(this,BE,BG,By?0:Bu,By,BN,BO):(BJ=!0,By=!1,BB=0,BG=0,Bu=0,BK(),Bz.css("filter",""),Bz.css(BI),Bq(BE,Bz))}})}function Br(Bt,Bx,Bu){var By,Bs,Bv=Ak(),Bw=Bm();Bx.resizable({handles:{s:".ui-resizable-handle"},grid:Bv,start:function(BA,Bz){By=Bs=0,Aa(Bt,Bx),AZ("eventResizeStart",this,Bt,BA,Bz)},resize:function(BA,Bz){By=Math.round((Math.max(Bv,Bx.height())-Bz.originalSize.height)/Bv),By!=Bs&&(Bu.text(Ad(Bt.start,By||Bt.end?a(Bc(Bt),Bw*By):null,AW("timeFormat"))),Bs=By)},stop:function(BA,Bz){AZ("eventResizeStop",this,Bt,BA,Bz),By?Bd(this,Bt,0,Bw*By,BA,Bz):Bq(Bt,Bx)}})}var Bh=this;Bh.renderEvents=A8,Bh.clearEvents=AK,Bh.slotSegHtml=Aq,A2.call(Bh);var AW=Bh.opt,AZ=Bh.trigger,AG=Bh.isEventDraggable,A7=Bh.isEventResizable,Bc=Bh.eventEnd,AD=Bh.eventElementHandlers,Au=Bh.setHeight,At=Bh.getDaySegmentContainer,Bo=Bh.getSlotSegmentContainer,Az=Bh.getHoverListener,Ag=Bh.getMaxMinute,Ba=Bh.getMinMinute,A9=Bh.timePosition,AJ=Bh.getIsCellAllDay,Bg=Bh.colContentLeft,Bn=Bh.colContentRight,Bj=Bh.cellToDate,Bl=Bh.getColCnt,AN=Bh.getColWidth,Ak=Bh.getSnapHeight,Bm=Bh.getSnapMinutes,Be=Bh.getSlotContainer,Bf=Bh.reportEventElement,Bq=Bh.showEvents,Aa=Bh.hideEvents,Bi=Bh.eventDrop,Bd=Bh.eventResize,AM=Bh.renderDayOverlay,Ao=Bh.clearOverlays,AP=Bh.renderDayEvents,A5=Bh.calendar,An=A5.formatDate,Ad=A5.formatDates;Bh.draggableDayEvent=Bb}function S(Aa){var Ad,Ag=A6(Aa),Ah=Ag[0];if(Ax(Ag),Ah){for(Ad=0;Ah.length>Ad;Ad++){A(Ah[Ad])}for(Ad=0;Ah.length>Ad;Ad++){Y(Ah[Ad],0,0)}}return AA(Ag)}function A6(Aa){var Ag,Ah,Aj,Ad=[];for(Ag=0;Aa.length>Ag;Ag++){for(Ah=Aa[Ag],Aj=0;Ad.length>Aj&&Q(Ah,Ad[Aj]).length;Aj++){}(Ad[Aj]||(Ad[Aj]=[])).push(Ah)}return Ad}function Ax(Ag){var Ah,Aj,Ak,Aa,Ad;for(Ah=0;Ag.length>Ah;Ah++){for(Aj=Ag[Ah],Ak=0;Aj.length>Ak;Ak++){for(Aa=Aj[Ak],Aa.forwardSegs=[],Ad=Ah+1;Ag.length>Ad;Ad++){Q(Aa,Ag[Ad],Aa.forwardSegs)}}}}function A(Aa){var Ag,Aj,Ad=Aa.forwardSegs,Ah=0;if(Aa.forwardPressure===X){for(Ag=0;Ad.length>Ag;Ag++){Aj=Ad[Ag],A(Aj),Ah=Math.max(Ah,1+Aj.forwardPressure)}Aa.forwardPressure=Ah}}function Y(Aa,Ag,Aj){var Ad,Ah=Aa.forwardSegs;if(Aa.forwardCoord===X){for(Ah.length?(Ah.sort(Ap),Y(Ah[0],Ag+1,Aj),Aa.forwardCoord=Ah[0].backwardCoord):Aa.forwardCoord=1,Aa.backwardCoord=Aa.forwardCoord-(Aa.forwardCoord-Aj)/(Ag+1),Ad=0;Ah.length>Ad;Ad++){Y(Ah[Ad],0,Aa.forwardCoord)}}}function AA(Aa){var Ag,Ah,Aj,Ad=[];for(Ag=0;Aa.length>Ag;Ag++){for(Ah=Aa[Ag],Aj=0;Ah.length>Aj;Aj++){Ad.push(Ah[Aj])}}return Ad}function Q(Aa,Ad,Ag){Ag=Ag||[];for(var Ah=0;Ad.length>Ah;Ah++){u(Aa,Ad[Ah])&&Ag.push(Ad[Ah])}return Ag}function u(Aa,Ad){return Aa.end>Ad.start&&Aa.start<Ad.end}function Ap(Aa,Ad){return Ad.forwardPressure-Aa.forwardPressure||(Aa.backwardCoord||0)-(Ad.backwardCoord||0)||AH(Aa,Ad)}function AH(Aa,Ad){return Aa.start-Ad.start||Ad.end-Ad.start-(Aa.end-Aa.start)||(Aa.event.title||"").localeCompare(Ad.event.title)}function E(Bi,AZ,AP){function AY(Bt,Bu){var Bv=Bl[Bt];return H.isPlainObject(Bv)?w(Bv,Bu||AP):Bv}function Bq(Bt,Bu){return AZ.trigger.apply(AZ,[Bt,Bu||Aa].concat(Array.prototype.slice.call(arguments,2),[Aa]))}function Az(Bt){var Bu=Bt.source||{};return Aw(Bt.startEditable,Bu.startEditable,AY("eventStartEditable"),Bt.editable,Bu.editable,AY("editable"))&&!AY("disableDragging")}function Bc(Bt){var Bu=Bt.source||{};return Aw(Bt.durationEditable,Bu.durationEditable,AY("eventDurationEditable"),Bt.editable,Bu.editable,AY("editable"))&&!AY("disableResizing")}function Bo(Bt){AG={};var Bu,Bv,Bw=Bt.length;for(Bu=0;Bw>Bu;Bu++){Bv=Bt[Bu],AG[Bv._id]?AG[Bv._id].push(Bv):AG[Bv._id]=[Bv]}}function Aj(){AG={},Bj={},Aq=[]}function Bf(Bt){return Bt.end?T(Bt.end):A7(Bt)}function Ao(Bt,Bu){Aq.push({event:Bt,element:Bu}),Bj[Bt._id]?Bj[Bt._id].push(Bu):Bj[Bt._id]=[Bu]}function AM(){H.each(Aq,function(Bt,Bu){Aa.trigger("eventDestroy",Bu.event,Bu.event,Bu.element)})}function A9(Bt,Bu){Bu.click(function(Bv){return Bu.hasClass("ui-draggable-dragging")||Bu.hasClass("ui-resizable-resizing")?X:Bq("eventClick",this,Bt,Bv)}).hover(function(Bv){Bq("eventMouseover",this,Bt,Bv)},function(Bv){Bq("eventMouseout",this,Bt,Bv)})}function Be(Bt,Bu){AW(Bt,Bu,"show")}function Am(Bt,Bu){AW(Bt,Bu,"hide")}function AW(Bv,Bw,Bx){var By,Bt=Bj[Bv._id],Bu=Bt.length;for(By=0;Bu>By;By++){Bw&&Bt[By][0]==Bw[0]||Bt[By][Bx]()}}function Bp(BA,Bx,BB,Bw,Bu,By,Bv){var Bz=Bx.allDay,Bt=Bx._id;AK(AG[Bt],BB,Bw,Bu),Bq("eventDrop",BA,Bx,BB,Bw,Bu,function(){AK(AG[Bt],-BB,-Bw,Bz),AD(Bt)},By,Bv),AD(Bt)}function AN(Bt,Bx,By,Bz,Bu,Bv){var Bw=Bx._id;Bm(AG[Bw],By,Bz),Bq("eventResize",Bt,Bx,By,Bz,function(){Bm(AG[Bw],-By,-Bz),AD(Bw)},Bu,Bv),AD(Bw)}function AK(Bt,Bx,Bz,Bu){Bz=Bz||0;for(var By,Bv=Bt.length,Bw=0;Bv>Bw;Bw++){By=Bt[Bw],Bu!==X&&(By.allDay=Bu),a(Al(By.start,Bx,!0),Bz),By.end&&(By.end=a(Al(By.end,Bx,!0),Bz)),Ag(By,Bl)}}function Bm(Bv,Bw,Bx){Bx=Bx||0;for(var By,Bt=Bv.length,Bu=0;Bt>Bu;Bu++){By=Bv[Bu],By.end=a(Al(Bf(By),Bw,!0),Bx),Ag(By,Bl)}}function Br(Bt){return"object"==typeof Bt&&(Bt=Bt.getDay()),Ah[Bt]}function Bs(){return Bb}function At(Bu,Bv,Bt){for(Bv=Bv||1;Ah[(Bu.getDay()+(Bt?Bv:0)+7)%7];){Al(Bu,Bv)}}function An(){var Bu=A5.apply(null,arguments),Bv=Bk(Bu),Bt=AJ(Bv);return Bt}function A5(Bv,Bw){var Bx=Aa.getColCnt(),By=Au?-1:1,Bt=Au?Bx-1:0;"object"==typeof Bv&&(Bw=Bv.col,Bv=Bv.row);var Bu=Bv*Bx+(Bw*By+Bt);return Bu}function Bk(Bt){var Bu=Aa.visStart.getDay();return Bt+=Ad[Bu],7*Math.floor(Bt/Bb)+Bh[(Bt%Bb+Bb)%Bb]-Bu}function AJ(Bt){var Bu=T(Aa.visStart);return Al(Bu,Bt),Bu}function Ak(Bt){var Bu=A8(Bt),Bv=Bg(Bu),Bw=Bd(Bv);return Bw}function A8(Bt){return o(Bt,Aa.visStart)}function Bg(Bt){var Bu=Aa.visStart.getDay();return Bt+=Bu,Math.floor(Bt/7)*Bb+Ad[(Bt%7+7)%7]-Ad[Bu]}function Bd(Bv){var Bw=Aa.getColCnt(),Bx=Au?-1:1,By=Au?Bw-1:0,Bt=Math.floor(Bv/Bw),Bu=(Bv%Bw+Bw)%Bw*Bx+By;return{row:Bt,col:Bu}}function Ba(BL,Bu){for(var BA=Aa.getRowCnt(),BH=Aa.getColCnt(),BB=[],Bx=A8(BL),Bz=A8(Bu),BF=Bg(Bx),By=Bg(Bz)-1,BE=0;BA>BE;BE++){var BI=BE*BH,BC=BI+BH-1,Bt=Math.max(BF,BI),BK=Math.min(By,BC);if(BK>=Bt){var BJ=Bd(Bt),Bv=Bd(BK),BG=[BJ.col,Bv.col].sort(),BD=Bk(Bt)==Bx,Bw=Bk(BK)+1==Bz;BB.push({row:BE,leftCol:BG[0],rightCol:BG[1],isStart:BD,isEnd:Bw})}}return BB}var Aa=this;Aa.element=Bi,Aa.calendar=AZ,Aa.name=AP,Aa.opt=AY,Aa.trigger=Bq,Aa.isEventDraggable=Az,Aa.isEventResizable=Bc,Aa.setEventData=Bo,Aa.clearEventData=Aj,Aa.eventEnd=Bf,Aa.reportEventElement=Ao,Aa.triggerEventDestroy=AM,Aa.eventElementHandlers=A9,Aa.showEvents=Be,Aa.hideEvents=Am,Aa.eventDrop=Bp,Aa.eventResize=AN;var A7=Aa.defaultEventEnd,Ag=AZ.normalizeEvent,AD=AZ.reportEventChange,AG={},Bj={},Aq=[],Bl=AZ.options;Aa.isHiddenDay=Br,Aa.skipHiddenDays=At,Aa.getCellsPerWeek=Bs,Aa.dateToCell=Ak,Aa.dateToDayOffset=A8,Aa.dayOffsetToCellOffset=Bg,Aa.cellOffsetToCell=Bd,Aa.cellToDate=An,Aa.cellToCellOffset=A5,Aa.cellOffsetToDayOffset=Bk,Aa.dayOffsetToDate=AJ,Aa.rangeToSegments=Ba;var Bb,Bn=AY("hiddenDays")||[],Ah=[],Ad=[],Bh=[],Au=AY("isRTL");(function(){AY("weekends")===!1&&Bn.push(0,6);for(var Bu=0,Bt=0;7>Bu;Bu++){Ad[Bu]=Bt,Ah[Bu]=-1!=H.inArray(Bu,Bn),Ah[Bu]||(Bh[Bt]=Bu,Bt++)}if(Bb=Bt,!Bb){throw"invalid hiddenDays"}})()}function A2(){function Ao(Bx,Bz){var By=An(Bx,!1,!0);c(By,function(BB,BA){Bl(BB.event,BA)}),AJ(By,Bz),c(By,function(BB,BA){Bu("eventAfterRender",BB.event,BB.event,BA)})}function A5(Bx,BB,BA){var By=An([Bx],!0,!1),Bz=[];return c(By,function(BD,BC){BD.row===BB&&BC.css("top",BA),Bz.push(BC[0])}),Bz}function An(BA,BB,Bz){var BC,Bx,By=Bm(),BE=BB?H("<div/>"):By,BD=Bs(BA);return Bn(BD),BC=Ba(BD),BE[0].innerHTML=BC,Bx=BE.children(),BB&&By.append(Bx),At(BD,Bx),c(BD,function(BG,BF){BG.hsides=A3(BF,!0)}),c(BD,function(BG,BF){BF.width(Math.max(0,BG.outerWidth-BG.hsides))}),c(BD,function(BG,BF){BG.outerHeight=BF.outerHeight(!0)}),Bk(BD,Bz),BD}function Bs(Bx){for(var Bz=[],By=0;Bx.length>By;By++){var BA=AN(Bx[By]);Bz.push.apply(Bz,BA)}return Bz}function AN(Bx){for(var BA=Bx.start,Bz=U(Bx),BB=AG(BA,Bz),By=0;BB.length>By;By++){BB[By].event=Bx}return BB}function Bn(BB){for(var BA=AK("isRTL"),Bx=0;BB.length>Bx;Bx++){var BD=BB[Bx],BE=(BA?BD.isEnd:BD.isStart)?Am:Bh,By=(BA?BD.isStart:BD.isEnd)?Bi:Be,BC=BE(BD.leftCol),Bz=By(BD.rightCol);BD.left=BC,BD.outerWidth=Bz-BC}}function Ba(Bx){for(var Bz="",By=0;Bx.length>By;By++){Bz+=AW(Bx[By])}return Bz}function AW(By){var BC="",Bz=AK("isRTL"),BD=By.event,Bx=BD.url,BA=["fc-event","fc-event-hori"];AD(BD)&&BA.push("fc-event-draggable"),By.isStart&&BA.push("fc-event-start"),By.isEnd&&BA.push("fc-event-end"),BA=BA.concat(BD.className),BD.source&&(BA=BA.concat(BD.source.className||[]));var BB=A0(BD,AK);return BC+=Bx?"<a href='"+K(Bx)+"'":"<div",BC+=" class='"+BA.join(" ")+"' style='position:absolute;left:"+By.left+"px;"+BB+"'><div class='fc-event-inner'>",!BD.allDay&&By.isStart&&(BC+="<span class='fc-event-time'>"+K(Bw(BD.start,BD.end,AK("timeFormat")))+"</span>"),BC+="<span class='fc-event-title'>"+K(BD.title||"")+"</span></div>",By.isEnd&&Aj(BD)&&(BC+="<div class='ui-resizable-handle ui-resizable-"+(Bz?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>"),BC+="</"+(Bx?"a":"div")+">"}function At(BB,Bz){for(var BD=0;BB.length>BD;BD++){var By=BB[BD],Bx=By.event,BA=Bz.eq(BD),BC=Bu("eventRender",Bx,Bx,BA);BC===!1?BA.remove():(BC&&BC!==!0&&(BC=H(BC).css({position:"absolute",left:By.left}),BA.replaceWith(BC),BA=BC),By.element=BA)}}function Bk(By,BB){var Bz=Bj(By),BC=Az(),Bx=[];if(BB){for(var BA=0;BC.length>BA;BA++){BC[BA].height(Bz[BA])}}for(var BA=0;BC.length>BA;BA++){Bx.push(BC[BA].position().top)}c(By,function(BE,BD){BD.css("top",Bx[BE.row]+BE.top)})}function Bj(BE){for(var BD=Aq(),Bz=AZ(),BG=[],BA=A8(BE),BH=0;BD>BH;BH++){for(var By=BA[BH],BC=[],Bx=0;Bz>Bx;Bx++){BC.push(0)}for(var BB=0;By.length>BB;BB++){var BF=By[BB];BF.top=d(BC.slice(BF.leftCol,BF.rightCol+1));for(var Bx=BF.leftCol;BF.rightCol>=Bx;Bx++){BC[Bx]=BF.top+BF.outerHeight}}BG.push(d(BC))}return BG}function A8(By){var BB,Bz,BC,Bx=Aq(),BA=[];for(BB=0;By.length>BB;BB++){Bz=By[BB],BC=Bz.row,Bz.element&&(BA[BC]?BA[BC].push(Bz):BA[BC]=[Bz])}for(BC=0;Bx>BC;BC++){BA[BC]=Ah(BA[BC]||[])}return BA}function Ah(Bx){for(var Bz=[],By=Ak(Bx),BA=0;By.length>BA;BA++){Bz.push.apply(Bz,By[BA])}return Bz}function Ak(Bx){Bx.sort(t);for(var BA=[],Bz=0;Bx.length>Bz;Bz++){for(var BB=Bx[Bz],By=0;BA.length>By&&Ar(BB,BA[By]);By++){}BA[By]?BA[By].push(BB):BA[By]=[BB]}return BA}function Az(){var Bx,Bz=Aq(),By=[];for(Bx=0;Bz>Bx;Bx++){By[Bx]=Bt(Bx).find("div.fc-day-content > div")}return By}function AJ(Bx,Bz){var By=Bm();c(Bx,function(BB,BC,BA){var BD=BB.event;BD._id===Bz?Aa(BD,BC,BB):BC[0]._fci=BA}),AR(By,Bx,Aa)}function Aa(Bx,Bz,By){AD(Bx)&&Bg.draggableDayEvent(Bx,Bz,By),By.isEnd&&Aj(Bx)&&Bg.resizableDayEvent(Bx,Bz,By),A7(Bx,Bz)}function Bd(Bx,Bz){var By,BA=AY();Bz.draggable({delay:50,opacity:AK("dragOpacity"),revertDuration:AK("dragRevertDuration"),start:function(BB,BC){Bu("eventDragStart",Bz,Bx,BB,BC),AM(Bx,Bz),BA.start(function(BE,BG,BD,BI){if(Bz.draggable("option","revert",!BE||!BD&&!BI),Au(),BE){var BH=Bp(BG),BF=Bp(BE);By=o(BF,BH),Bb(Al(T(Bx.start),By),Al(U(Bx),By))}else{By=0}},BB,"drag")},stop:function(BB,BC){BA.stop(),Au(),Bu("eventDragStop",Bz,Bx,BB,BC),By?A9(this,Bx,By,0,Bx.allDay,BB,BC):(Bz.css("filter",""),Bo(Bx,Bz))}})}function Ag(BB,BD,Bz){var BA=AK("isRTL"),Bx=BA?"w":"e",By=BD.find(".ui-resizable-"+Bx),BC=!1;e(BD),BD.mousedown(function(BE){BE.preventDefault()}).click(function(BE){BC&&(BE.preventDefault(),BE.stopImmediatePropagation())}),By.mousedown(function(BG){function BL(BM){Bu("eventResizeStop",this,BB,BM),H("body").css("cursor",""),BH.stop(),Au(),BJ&&Bc(this,BB,BJ,0,BM),setTimeout(function(){BC=!1},0)}if(1==BG.which){BC=!0;var BH=AY();Aq(),AZ();var BJ,BI,BE=BD.css("top"),BF=H.extend({},BB),BK=Ad(Bq(BB.start));AP(),H("body").css("cursor",Bx+"-resize").one("mouseup",BL),Bu("eventResizeStart",this,BB,BG),BH.start(function(BM,BQ){if(BM){var BP=Bf(BQ),BN=Bf(BM);if(BN=Math.max(BN,BK),BJ=Br(BN)-Br(BP)){BF.end=Al(Bv(BB),BJ,!0);var BO=BI;BI=A5(BF,Bz.row,BE),BI=H(BI),BI.find("*").css("cursor",Bx+"-resize"),BO&&BO.remove(),AM(BB)}else{BI&&(Bo(BB),BI.remove(),BI=null)}Au(),Bb(BB.start,Al(U(BB),BJ))}},BG)}})}var Bg=this;Bg.renderDayEvents=Ao,Bg.draggableDayEvent=Bd,Bg.resizableDayEvent=Ag;var AK=Bg.opt,Bu=Bg.trigger,AD=Bg.isEventDraggable,Aj=Bg.isEventResizable,Bv=Bg.eventEnd,Bl=Bg.reportEventElement,A7=Bg.eventElementHandlers,Bo=Bg.showEvents,AM=Bg.hideEvents,A9=Bg.eventDrop,Bc=Bg.eventResize,Aq=Bg.getRowCnt,AZ=Bg.getColCnt;Bg.getColWidth;var Bt=Bg.allDayRow,Bh=Bg.colLeft,Be=Bg.colRight,Am=Bg.colContentLeft,Bi=Bg.colContentRight;Bg.dateToCell;var Bm=Bg.getDaySegmentContainer,Bw=Bg.calendar.formatDates,Bb=Bg.renderDayOverlay,Au=Bg.clearOverlays,AP=Bg.clearSelection,AY=Bg.getHoverListener,AG=Bg.rangeToSegments,Bp=Bg.cellToDate,Bf=Bg.cellToCellOffset,Br=Bg.cellOffsetToDayOffset,Bq=Bg.dateToDayOffset,Ad=Bg.dayOffsetToCellOffset}function Ar(Aa,Ad){for(var Ag=0;Ad.length>Ag;Ag++){var Ah=Ad[Ag];if(Ah.leftCol<=Aa.rightCol&&Ah.rightCol>=Aa.leftCol){return !0}}return !1}function c(Aa,Ag){for(var Ah=0;Aa.length>Ah;Ah++){var Aj=Aa[Ah],Ad=Aj.element;Ad&&Ag(Aj,Ad,Ah)}}function t(Aa,Ad){return Ad.rightCol-Ad.leftCol-(Aa.rightCol-Aa.leftCol)||Ad.event.allDay-Aa.event.allDay||Aa.event.start-Ad.event.start||(Aa.event.title||"").localeCompare(Ad.event.title)}function Ac(){function Ak(AD,Az,Au){Am(),Az||(Az=Ad(AD,Au)),Ag(AD,Az,Au),Aj(AD,Az,Au)}function Am(Au){Aa&&(Aa=!1,Ao(),Ah("unselect",null,Au))}function Aj(Az,AG,Au,AD){Aa=!0,Ah("select",null,Az,AG,Au,AD)}function At(AK){var AG=An.cellToDate,AD=An.getIsCellAllDay,Az=An.getHoverListener(),AJ=An.reportDayClick;if(1==AK.which&&Aq("selectable")){Am(AK);var Au;Az.start(function(AN,AM){Ao(),AN&&AD(AN)?(Au=[AG(AM),AG(AN)].sort(As),Ag(Au[0],Au[1],!0)):Au=null},AK),H(document).one("mouseup",function(AM){Az.stop(),Au&&(+Au[0]==+Au[1]&&AJ(Au[0],!0,AM),Aj(Au[0],Au[1],!0,AM))})}}var An=this;An.select=Ak,An.unselect=Am,An.reportSelection=Aj,An.daySelectionMousedown=At;var Aq=An.opt,Ah=An.trigger,Ad=An.defaultSelectionEnd,Ag=An.renderSelection,Ao=An.clearSelection,Aa=!1;Aq("selectable")&&Aq("unselectAuto")&&H(document).mousedown(function(Az){var Au=Aq("unselectCancel");Au&&H(Az.target).parents(Au).length||Am(Az)})}function P(){function Ag(Am,Ak){var An=Aa.shift();return An||(An=H("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),An[0].parentNode!=Ak[0]&&An.appendTo(Ak),Ad.push(An.css(Am).show()),An}function Ah(){for(var Ak;Ak=Ad.shift();){Aa.push(Ak.hide().unbind())}}var Aj=this;Aj.renderOverlay=Ag,Aj.clearOverlays=Ah;var Ad=[],Aa=[]}function A4(Aa){var Ad,Ag,Ah=this;Ah.build=function(){Ad=[],Ag=[],Aa(Ad,Ag)},Ah.cell=function(At,An){var Aj,Ak=Ad.length,Am=Ag.length,Aq=-1,Ao=-1;for(Aj=0;Ak>Aj;Aj++){if(An>=Ad[Aj][0]&&Ad[Aj][1]>An){Aq=Aj;break}}for(Aj=0;Am>Aj;Aj++){if(At>=Ag[Aj][0]&&Ag[Aj][1]>At){Ao=Aj;break}}return Aq>=0&&Ao>=0?{row:Aq,col:Ao}:null},Ah.rect=function(Am,An,Aq,Ak,Aj){var Ao=Aj.offset();return{top:Ad[Am][0]-Ao.top,left:Ag[An][0]-Ao.left,width:Ag[Ak][1]-Ag[An][0],height:Ad[Aq][1]-Ad[Am][0]}}}function AV(Aj){function Ak(Ao){h(Ao);var An=Aj.cell(Ao.pageX,Ao.pageY);(!An!=!Ah||An&&(An.row!=Ah.row||An.col!=Ah.col))&&(An?(Ag||(Ag=An),Ad(An,Ag,An.row-Ag.row,An.col-Ag.col)):Ad(An,Ag),Ah=An)}var Am,Ad,Ag,Ah,Aa=this;Aa.start=function(An,Ao,Aq){Ad=An,Ag=Ah=null,Aj.build(),Ak(Ao),Am=Aq||"mousemove",H(document).bind(Am,Ak)},Aa.stop=function(){return H(document).unbind(Am,Ak),Ah}}function h(Aa){Aa.pageX===X&&(Aa.pageX=Aa.originalEvent.pageX,Aa.pageY=Aa.originalEvent.pageY)}function Af(Ag){function Ah(Am){return Aa[Am]=Aa[Am]||Ag(Am)}var Ak=this,Aa={},Aj={},Ad={};Ak.left=function(Am){return Aj[Am]=Aj[Am]===X?Ah(Am).position().left:Aj[Am]},Ak.right=function(Am){return Ad[Am]=Ad[Am]===X?Ak.left(Am)+Ah(Am).width():Ad[Am]},Ak.clear=function(){Aa={},Aj={},Ad={}}}var D={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十月","十二月"],monthNamesShort:["一","二","三","四","五","六","七","八","九","十","十一","十二"],dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"今天",month:"月",week:"周",day:"天"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},AT={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},AX=H.fullCalendar={version:"1.6.4"},M=AX.views={};H.fn.fullCalendar=function(Ad){if("string"==typeof Ad){var Aa,Ag=Array.prototype.slice.call(arguments,1);return this.each(function(){var Ak=H.data(this,"fullCalendar");if(Ak&&H.isFunction(Ak[Ad])){var Aj=Ak[Ad].apply(Ak,Ag);Aa===X&&(Aa=Aj),"destroy"==Ad&&H.removeData(this,"fullCalendar")}}),Aa!==X?Aa:this}Ad=Ad||{};var Ah=Ad.eventSources||[];return delete Ad.eventSources,Ad.events&&(Ah.push(Ad.events),delete Ad.events),Ad=H.extend(!0,{},D,Ad.isRTL||Ad.isRTL===X&&D.isRTL?AT:{},Ad),this.each(function(An,Ak){var Aj=H(Ak),Am=new I(Aj,Ad,Ah);Aj.data("fullCalendar",Am),Am.render()}),this},AX.sourceNormalizers=[],AX.sourceFetchers=[];var f={dataType:"json",cache:!1},B=1;AX.addDays=Al,AX.cloneDate=T,AX.parseDate=AQ,AX.parseISO8601=AU,AX.parseTime=z,AX.formatDate=C,AX.formatDates=v;var s=["日","一","二","三","四","五","六"],Ai=86400000,J=3600000,r=60000,F={s:function(Aa){return Aa.getSeconds()},ss:function(Aa){return y(Aa.getSeconds())},m:function(Aa){return Aa.getMinutes()},mm:function(Aa){return y(Aa.getMinutes())},h:function(Aa){return Aa.getHours()%12||12},hh:function(Aa){return y(Aa.getHours()%12||12)},H:function(Aa){return Aa.getHours()},HH:function(Aa){return y(Aa.getHours())},d:function(Aa){return Aa.getDate()},dd:function(Aa){return y(Aa.getDate())},ddd:function(Aa,Ad){return Ad.dayNamesShort[Aa.getDay()]},dddd:function(Aa,Ad){return Ad.dayNames[Aa.getDay()]},M:function(Aa){return Aa.getMonth()+1},MM:function(Aa){return y(Aa.getMonth()+1)},MMM:function(Aa,Ad){return Ad.monthNamesShort[Aa.getMonth()]},MMMM:function(Aa,Ad){return Ad.monthNames[Aa.getMonth()]},yy:function(Aa){return(Aa.getFullYear()+"").substring(2)},yyyy:function(Aa){return Aa.getFullYear()},t:function(Aa){return 12>Aa.getHours()?"a":"p"},tt:function(Aa){return 12>Aa.getHours()?"上午":"下午"},T:function(Aa){return 12>Aa.getHours()?"A":"P"},TT:function(Aa){return 12>Aa.getHours()?"上午":"下午"},u:function(Aa){return C(Aa,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(Aa){var Ad=Aa.getDate();return Ad>10&&20>Ad?"th":["st","nd","rd"][Ad%10-1]||"th"},w:function(Aa,Ad){return Ad.weekNumberCalculation(Aa)},W:function(Aa){return m(Aa)}};AX.dateFormatters=F,AX.applyAll=g,M.month=V,M.basicWeek=AO,M.basicDay=R,N({weekMode:"fixed"}),M.agendaWeek=L,M.agendaDay=AF,N({allDaySlot:!0,allDayText:"全天",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,maxTime:24,slotEventOverlap:!0})})(jQuery);