(function(K,J,O){var I=K.requestAnimationFrame||K.webkitRequestAnimationFrame||K.mozRequestAnimationFrame||K.oRequestAnimationFrame||K.msRequestAnimationFrame||function(A){K.setTimeout(A,1000/60)};var L=(function(){var D={};var A=J.createElement("div").style;var B=(function(){var T=["t","webkitT","MozT","msT","OT"],G,S=0,H=T.length;for(;S<H;S++){G=T[S]+"ransform";if(G in A){return T[S].substr(0,T[S].length-1)}}return false})();function C(G){if(B===false){return false}if(B===""){return G}return B+G.charAt(0).toUpperCase()+G.substr(1)}D.getTime=Date.now||function F(){return new Date().getTime()};D.extend=function(R,H){for(var G in H){R[G]=H[G]}};D.addEvent=function(S,G,T,H){S.addEventListener(G,T,!!H)};D.removeEvent=function(S,G,T,H){S.removeEventListener(G,T,!!H)};D.prefixPointerEvent=function(G){return K.MSPointerEvent?"MSPointer"+G.charAt(9).toUpperCase()+G.substr(10):G};D.momentum=function(Y,b,a,e,H,d){var f=Y-b,Z=O.abs(f)/a,c,G;d=d===undefined?0.0006:d;c=Y+(Z*Z)/(2*d)*(f<0?-1:1);G=Z/d;if(c<e){c=H?e-(H/2.5*(Z/8)):e;f=O.abs(c-Y);G=f/Z}else{if(c>0){c=H?H/2.5*(Z/8):0;f=O.abs(Y)+c;G=f/Z}}return{destination:O.round(c),duration:G}};var E=C("transform");D.extend(D,{hasTransform:E!==false,hasPerspective:C("perspective") in A,hasTouch:"ontouchstart" in K,hasPointer:K.PointerEvent||K.MSPointerEvent,hasTransition:C("transition") in A});D.isBadAndroid=/Android /.test(K.navigator.appVersion)&&!(/Chrome\/\d/.test(K.navigator.appVersion));D.extend(D.style={},{transform:E,transitionTimingFunction:C("transitionTimingFunction"),transitionDuration:C("transitionDuration"),transitionDelay:C("transitionDelay"),transformOrigin:C("transformOrigin")});D.hasClass=function(H,G){return((" "+H.className+" ").indexOf(" "+G+" ")==-1)?false:true};D.addClass=function(H,G){if(D.hasClass(H,G)){return}var R=H.className.split(" ");R.push(G);H.className=R.join(" ")};D.removeClass=function(H,R){if(!D.hasClass(H,R)){return}var G=new RegExp("(^|\\s)"+R+"(\\s|$)","g");H.className=H.className.replace(G," ")};D.offset=function(H){var G=-H.offsetLeft,R=-H.offsetTop;while(H=H.offsetParent){G-=H.offsetLeft;R-=H.offsetTop}return{left:G,top:R}};D.preventDefaultException=function(H,R){for(var G in R){if(R[G].test(H[G])){return true}}return false};D.extend(D.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});D.extend(D.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(G){return G*(2-G)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(G){return O.sqrt(1-(--G*G))}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(H){var G=4;return(H=H-1)*H*((G+1)*H+G)+1}},bounce:{style:"",fn:function(G){if((G/=1)<(1/2.75)){return 7.5625*G*G}else{if(G<(2/2.75)){return 7.5625*(G-=(1.5/2.75))*G+0.75}else{if(G<(2.5/2.75)){return 7.5625*(G-=(2.25/2.75))*G+0.9375}else{return 7.5625*(G-=(2.625/2.75))*G+0.984375}}}}},elastic:{style:"",fn:function(R){var H=0.22,G=0.4;if(R===0){return 0}if(R==1){return 1}return(G*O.pow(2,-10*R)*O.sin((R-H/4)*(2*O.PI)/H)+1)}}});D.tap=function(H,G){var R=J.createEvent("Event");R.initEvent(G,true,true);R.pageX=H.pageX;R.pageY=H.pageY;H.target.dispatchEvent(R)};D.click=function(H){var G=H.target,R;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(G.tagName)){R=J.createEvent("MouseEvents");R.initMouseEvent("click",true,true,H.view,1,G.screenX,G.screenY,G.clientX,G.clientY,H.ctrlKey,H.altKey,H.shiftKey,H.metaKey,0,null);R._constructed=true;G.dispatchEvent(R)}};return D})();function M(B,A){this.wrapper=typeof B=="string"?J.querySelector(B):B;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var C in A){this.options[C]=A[C]}this.translateZ=this.options.HWCompositing&&L.hasPerspective?" translateZ(0)":"";this.options.useTransition=L.hasTransition&&this.options.useTransition;this.options.useTransform=L.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?L.ease[this.options.bounceEasing]||L.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap"}if(this.options.shrinkScrollbars=="scale"){this.options.useTransition=false}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;if(this.options.probeType==3){this.options.useTransition=false}this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable()}M.prototype={version:"5.1.3",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators()}if(this.options.mouseWheel){this._initWheel()}if(this.options.snap){this._initSnap()}if(this.options.keyBindings){this._initKeys()}},destroy:function(){this._initEvents(true);this._execEvent("destroy")},_transitionEnd:function(A){if(A.target!=this.scroller||!this.isInTransition){return}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd")}},_start:function(B){if(L.eventType[B.type]!=1){if(B.button!==0){return}}if(!this.enabled||(this.initiated&&L.eventType[B.type]!==this.initiated)){return}if(this.options.preventDefault&&!L.isBadAndroid&&!L.preventDefaultException(B.target,this.options.preventDefaultException)){B.preventDefault()}var C=B.touches?B.touches[0]:B,A;this.initiated=L.eventType[B.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=L.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;A=this.getComputedPosition();this._translate(O.round(A.x),O.round(A.y));this._execEvent("scrollEnd")}else{if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd")}}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=C.pageX;this.pointY=C.pageY;this._execEvent("beforeScrollStart")},_move:function(B){if(!this.enabled||L.eventType[B.type]!==this.initiated){return}if(this.options.preventDefault){B.preventDefault()}var A=B.touches?B.touches[0]:B,G=A.pageX-this.pointX,R=A.pageY-this.pointY,D=L.getTime(),H,C,F,E;this.pointX=A.pageX;this.pointY=A.pageY;this.distX+=G;this.distY+=R;F=O.abs(this.distX);E=O.abs(this.distY);if(D-this.endTime>300&&(F<10&&E<10)){return}if(!this.directionLocked&&!this.options.freeScroll){if(F>E+this.options.directionLockThreshold){this.directionLocked="h"}else{if(E>=F+this.options.directionLockThreshold){this.directionLocked="v"}else{this.directionLocked="n"}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){B.preventDefault()}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return}}R=0}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){B.preventDefault()}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return}}G=0}}G=this.hasHorizontalScroll?G:0;R=this.hasVerticalScroll?R:0;H=this.x+G;C=this.y+R;if(H>0||H<this.maxScrollX){H=this.options.bounce?this.x+G/3:H>0?0:this.maxScrollX}if(C>0||C<this.maxScrollY){C=this.options.bounce?this.y+R/3:C>0?0:this.maxScrollY}this.directionX=G>0?-1:G<0?1:0;this.directionY=R>0?-1:R<0?1:0;if(!this.moved){this._execEvent("scrollStart")}this.moved=true;this._translate(H,C);if(D-this.startTime>300){this.startTime=D;this.startX=this.x;this.startY=this.y;if(this.options.probeType==1){this._execEvent("scroll")}}if(this.options.probeType>1){this._execEvent("scroll")}},silieUpDown:function(){var A=this.y;if(!this.hasVerticalScroll||A>0){this._execEvent("slideDown")}else{if(A<this.maxScrollY){this._execEvent("slideUp")}}},_end:function(F){if(!this.enabled||L.eventType[F.type]!==this.initiated){return}if(this.options.preventDefault&&!L.preventDefaultException(F.target,this.options.preventDefaultException)){F.preventDefault()}var D=F.changedTouches?F.changedTouches[0]:F,B,G,U=L.getTime()-this.startTime,W=O.round(this.x),H=O.round(this.y),C=O.abs(W-this.startX),E=O.abs(H-this.startY),X=0,V="";this.isInTransition=0;this.initiated=0;this.endTime=L.getTime();if(this.resetPosition(this.options.bounceTime)){this.silieUpDown();return}this.scrollTo(W,H);if(!this.moved){if(this.options.tap){L.tap(F,this.options.tap)}if(this.options.click){L.click(F)}this._execEvent("scrollCancel");return}if(this._events.flick&&U<200&&C<100&&E<100){this._execEvent("flick");return}if(this.options.momentum&&U<300){B=this.hasHorizontalScroll?L.momentum(this.x,this.startX,U,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:W,duration:0};G=this.hasVerticalScroll?L.momentum(this.y,this.startY,U,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:H,duration:0};W=B.destination;H=G.destination;X=O.max(B.duration,G.duration);this.isInTransition=1}if(this.options.snap){var A=this._nearestSnap(W,H);this.currentPage=A;X=this.options.snapSpeed||O.max(O.max(O.min(O.abs(W-A.x),1000),O.min(O.abs(H-A.y),1000)),300);W=A.x;H=A.y;this.directionX=0;this.directionY=0;V=this.options.bounceEasing}if(W!=this.x||H!=this.y){if(W>0||W<this.maxScrollX||H>0||H<this.maxScrollY){V=L.ease.quadratic}this.scrollTo(W,H,X,V);return}this._execEvent("scrollEnd")},_resize:function(){var A=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){A.refresh()},this.options.resizePolling)},resetPosition:function(B){var C=this.x,A=this.y;B=B||0;if(!this.hasHorizontalScroll||this.x>0){C=0}else{if(this.x<this.maxScrollX){C=this.maxScrollX}}if(!this.hasVerticalScroll||this.y>0){A=0}else{if(this.y<this.maxScrollY){A=this.maxScrollY}}if(C==this.x&&A==this.y){return false}this.scrollTo(C,A,B,this.options.bounceEasing);return true},disable:function(){this.enabled=false},enable:function(){this.enabled=true},refresh:function(){var A=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=L.offset(this.wrapper);this._execEvent("refresh");this.resetPosition()},on:function(A,B){if(!this._events[A]){this._events[A]=[]}this._events[A].push(B)},off:function(B,C){if(!this._events[B]){return}var A=this._events[B].indexOf(C);if(A>-1){this._events[B].splice(A,1)}},_execEvent:function(B){if(!this._events[B]){return}var C=0,A=this._events[B].length;if(!A){return}for(;C<A;C++){this._events[B][C].apply(this,[].slice.call(arguments,1))}},scrollBy:function(D,A,C,B){D=this.x+D;A=this.y+A;C=C||0;this.scrollTo(D,A,C,B)},scrollTo:function(D,A,C,B){B=B||L.ease.circular;this.isInTransition=this.options.useTransition&&C>0;if(!C||(this.options.useTransition&&B.style)){this._transitionTimingFunction(B.style);this._transitionTime(C);this._translate(D,A)}else{this._animate(D,A,C,B.fn)}},scrollToElement:function(B,E,F,A,D){B=B.nodeType?B:this.scroller.querySelector(B);if(!B){return}var C=L.offset(B);C.left-=this.wrapperOffset.left;C.top-=this.wrapperOffset.top;if(F===true){F=O.round(B.offsetWidth/2-this.wrapper.offsetWidth/2)}if(A===true){A=O.round(B.offsetHeight/2-this.wrapper.offsetHeight/2)}C.left-=F||0;C.top-=A||0;C.left=C.left>0?0:C.left<this.maxScrollX?this.maxScrollX:C.left;C.top=C.top>0?0:C.top<this.maxScrollY?this.maxScrollY:C.top;E=E===undefined||E===null||E==="auto"?O.max(O.abs(this.x-C.left),O.abs(this.y-C.top)):E;this.scrollTo(C.left,C.top,E,D)},_transitionTime:function(B){B=B||0;this.scrollerStyle[L.style.transitionDuration]=B+"ms";if(!B&&L.isBadAndroid){this.scrollerStyle[L.style.transitionDuration]="0.001s"}if(this.indicators){for(var A=this.indicators.length;A--;){this.indicators[A].transitionTime(B)}}},_transitionTimingFunction:function(B){this.scrollerStyle[L.style.transitionTimingFunction]=B;if(this.indicators){for(var A=this.indicators.length;A--;){this.indicators[A].transitionTimingFunction(B)}}},_translate:function(C,A){if(this.options.useTransform){this.scrollerStyle[L.style.transform]="translate("+C+"px,"+A+"px)"+this.translateZ}else{C=O.round(C);A=O.round(A);this.scrollerStyle.left=C+"px";this.scrollerStyle.top=A+"px"}this.x=C;this.y=A;if(this.indicators){for(var B=this.indicators.length;B--;){this.indicators[B].updatePosition()}}},_initEvents:function(B){var C=B?L.removeEvent:L.addEvent,A=this.options.bindToWrapper?this.wrapper:K;C(K,"orientationchange",this);C(K,"resize",this);if(this.options.click){C(this.wrapper,"click",this,true)}if(!this.options.disableMouse){C(this.wrapper,"mousedown",this);C(A,"mousemove",this);C(A,"mousecancel",this);C(A,"mouseup",this)}if(L.hasPointer&&!this.options.disablePointer){C(this.wrapper,L.prefixPointerEvent("pointerdown"),this);C(A,L.prefixPointerEvent("pointermove"),this);C(A,L.prefixPointerEvent("pointercancel"),this);C(A,L.prefixPointerEvent("pointerup"),this)}if(L.hasTouch&&!this.options.disableTouch){C(this.wrapper,"touchstart",this);C(A,"touchmove",this);C(A,"touchcancel",this);C(A,"touchend",this)}C(this.scroller,"transitionend",this);C(this.scroller,"webkitTransitionEnd",this);C(this.scroller,"oTransitionEnd",this);C(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var B=K.getComputedStyle(this.scroller,null),C,A;if(this.options.useTransform){B=B[L.style.transform].split(")")[0].split(", ");C=+(B[12]||B[4]);A=+(B[13]||B[5])}else{C=+B.left.replace(/[^-\d.]/g,"");A=+B.top.replace(/[^-\d.]/g,"")}return{x:C,y:A}},_initIndicators:function(){var B=this.options.interactiveScrollbars,G=typeof this.options.scrollbars!="string",F=[],E;var C=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){E={el:N("v",B,this.options.scrollbars),interactive:B,defaultScrollbars:true,customStyle:G,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(E.el);F.push(E)}if(this.options.scrollX){E={el:N("h",B,this.options.scrollbars),interactive:B,defaultScrollbars:true,customStyle:G,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(E.el);F.push(E)}}if(this.options.indicators){F=F.concat(this.options.indicators)}for(var A=F.length;A--;){this.indicators.push(new P(this,F[A]))}function D(R){for(var H=C.indicators.length;H--;){R.call(C.indicators[H])}}if(this.options.fadeScrollbars){this.on("scrollEnd",function(){D(function(){this.fade()})});this.on("scrollCancel",function(){D(function(){this.fade()})});this.on("scrollStart",function(){D(function(){this.fade(1)})});this.on("beforeScrollStart",function(){D(function(){this.fade(1,true)})})}this.on("refresh",function(){D(function(){this.refresh()})});this.on("destroy",function(){D(function(){this.destroy()});delete this.indicators})},_initWheel:function(){L.addEvent(this.wrapper,"wheel",this);L.addEvent(this.wrapper,"mousewheel",this);L.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){L.removeEvent(this.wrapper,"wheel",this);L.removeEvent(this.wrapper,"mousewheel",this);L.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(F){if(!this.enabled){return}F.preventDefault();F.stopPropagation();var C,B,D,E,A=this;if(this.wheelTimeout===undefined){A._execEvent("scrollStart")}clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){A._execEvent("scrollEnd");A.wheelTimeout=undefined},400);if("deltaX" in F){if(F.deltaMode===1){C=-F.deltaX*this.options.mouseWheelSpeed;B=-F.deltaY*this.options.mouseWheelSpeed}else{C=-F.deltaX;B=-F.deltaY}}else{if("wheelDeltaX" in F){C=F.wheelDeltaX/120*this.options.mouseWheelSpeed;B=F.wheelDeltaY/120*this.options.mouseWheelSpeed}else{if("wheelDelta" in F){C=B=F.wheelDelta/120*this.options.mouseWheelSpeed}else{if("detail" in F){C=B=-F.detail/3*this.options.mouseWheelSpeed}else{return}}}}C*=this.options.invertWheelDirection;B*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){C=B;B=0}if(this.options.snap){D=this.currentPage.pageX;E=this.currentPage.pageY;if(C>0){D--}else{if(C<0){D++}}if(B>0){E--}else{if(B<0){E++}}this.goToPage(D,E);return}D=this.x+O.round(this.hasHorizontalScroll?C:0);E=this.y+O.round(this.hasVerticalScroll?B:0);if(D>0){D=0}else{if(D<this.maxScrollX){D=this.maxScrollX}}if(E>0){E=0}else{if(E<this.maxScrollY){E=this.maxScrollY}}this.scrollTo(D,E,0);if(this.options.probeType>1){this._execEvent("scroll")}},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap)}this.on("refresh",function(){var H=0,F,C=0,E,A,B,T=0,U,G=this.options.snapStepX||this.wrapperWidth,D=this.options.snapStepY||this.wrapperHeight,V;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return}if(this.options.snap===true){A=O.round(G/2);B=O.round(D/2);while(T>-this.scrollerWidth){this.pages[H]=[];F=0;U=0;while(U>-this.scrollerHeight){this.pages[H][F]={x:O.max(T,this.maxScrollX),y:O.max(U,this.maxScrollY),width:G,height:D,cx:T-A,cy:U-B};U-=D;F++}T-=G;H++}}else{V=this.options.snap;F=V.length;E=-1;for(;H<F;H++){if(H===0||V[H].offsetLeft<=V[H-1].offsetLeft){C=0;E++}if(!this.pages[C]){this.pages[C]=[]}T=O.max(-V[H].offsetLeft,this.maxScrollX);U=O.max(-V[H].offsetTop,this.maxScrollY);A=T-O.round(V[H].offsetWidth/2);B=U-O.round(V[H].offsetHeight/2);this.pages[C][E]={x:T,y:U,width:V[H].offsetWidth,height:V[H].offsetHeight,cx:A,cy:B};if(T>this.maxScrollX){C++}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold}else{this.snapThresholdX=O.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=O.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold)}});this.on("flick",function(){var A=this.options.snapSpeed||O.max(O.max(O.min(O.abs(this.x-this.startX),1000),O.min(O.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,A)})},_nearestSnap:function(C,D){if(!this.pages.length){return{x:0,y:0,pageX:0,pageY:0}}var B=0,E=this.pages.length,A=0;if(O.abs(C-this.absStartX)<this.snapThresholdX&&O.abs(D-this.absStartY)<this.snapThresholdY){return this.currentPage}if(C>0){C=0}else{if(C<this.maxScrollX){C=this.maxScrollX}}if(D>0){D=0}else{if(D<this.maxScrollY){D=this.maxScrollY}}for(;B<E;B++){if(C>=this.pages[B][0].cx){C=this.pages[B][0].x;break}}E=this.pages[B].length;for(;A<E;A++){if(D>=this.pages[0][A].cy){D=this.pages[0][A].y;break}}if(B==this.currentPage.pageX){B+=this.directionX;if(B<0){B=0}else{if(B>=this.pages.length){B=this.pages.length-1}}C=this.pages[B][0].x}if(A==this.currentPage.pageY){A+=this.directionY;if(A<0){A=0}else{if(A>=this.pages[0].length){A=this.pages[0].length-1}}D=this.pages[0][A].y}return{x:C,y:D,pageX:B,pageY:A}},goToPage:function(D,E,C,F){F=F||this.options.bounceEasing;if(D>=this.pages.length){D=this.pages.length-1}else{if(D<0){D=0}}if(E>=this.pages[D].length){E=this.pages[D].length-1}else{if(E<0){E=0}}var A=this.pages[D][E].x,B=this.pages[D][E].y;C=C===undefined?this.options.snapSpeed||O.max(O.max(O.min(O.abs(A-this.x),1000),O.min(O.abs(B-this.y),1000)),300):C;this.currentPage={x:A,y:B,pageX:D,pageY:E};this.scrollTo(A,B,C,F)},next:function(D,B){var A=this.currentPage.pageX,C=this.currentPage.pageY;A++;if(A>=this.pages.length&&this.hasVerticalScroll){A=0;C++}this.goToPage(A,C,D,B)},prev:function(D,B){var A=this.currentPage.pageX,C=this.currentPage.pageY;A--;if(A<0&&this.hasVerticalScroll){A=0;C--}this.goToPage(A,C,D,B)},_initKeys:function(C){var A={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var B;if(typeof this.options.keyBindings=="object"){for(B in this.options.keyBindings){if(typeof this.options.keyBindings[B]=="string"){this.options.keyBindings[B]=this.options.keyBindings[B].toUpperCase().charCodeAt(0)}}}else{this.options.keyBindings={}}for(B in A){this.options.keyBindings[B]=this.options.keyBindings[B]||A[B]}L.addEvent(K,"keydown",this);this.on("destroy",function(){L.removeEvent(K,"keydown",this)})},_key:function(A){if(!this.enabled){return}var H=this.options.snap,G=H?this.currentPage.pageX:this.x,D=H?this.currentPage.pageY:this.y,B=L.getTime(),C=this.keyTime||0,E=0.25,F;if(this.options.useTransition&&this.isInTransition){F=this.getComputedPosition();this._translate(O.round(F.x),O.round(F.y));this.isInTransition=false}this.keyAcceleration=B-C<200?O.min(this.keyAcceleration+E,50):0;switch(A.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){G+=H?1:this.wrapperWidth}else{D+=H?1:this.wrapperHeight}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){G-=H?1:this.wrapperWidth}else{D-=H?1:this.wrapperHeight}break;case this.options.keyBindings.end:G=H?this.pages.length-1:this.maxScrollX;D=H?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:G=0;D=0;break;case this.options.keyBindings.left:G+=H?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:D+=H?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:G-=H?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:D-=H?1:5+this.keyAcceleration>>0;break;default:return}if(H){this.goToPage(G,D);return}if(G>0){G=0;this.keyAcceleration=0}else{if(G<this.maxScrollX){G=this.maxScrollX;this.keyAcceleration=0}}if(D>0){D=0;this.keyAcceleration=0}else{if(D<this.maxScrollY){D=this.maxScrollY;this.keyAcceleration=0}}this.scrollTo(G,D,0);this.keyTime=B},_animate:function(T,B,E,S){var C=this,F=this.x,D=this.y,G=L.getTime(),H=G+E;function A(){var R=L.getTime(),Q,X,W;if(R>=H){C.isAnimating=false;C._translate(T,B);if(!C.resetPosition(C.options.bounceTime)){C._execEvent("scrollEnd")}return}R=(R-G)/E;W=S(R);Q=(T-F)*W+F;X=(B-D)*W+D;C._translate(Q,X);if(C.isAnimating){I(A)}if(C.options.probeType==3){C._execEvent("scroll")}}this.isAnimating=true;A()},handleEvent:function(A){switch(A.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(A);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(A);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(A);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(A);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(A);break;case"keydown":this._key(A);break;case"click":if(!A._constructed){A.preventDefault();A.stopPropagation()}break}}};function N(D,B,C){var A=J.createElement("div"),E=J.createElement("div");if(C===true){A.style.cssText="position:absolute;z-index:9999";E.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"}E.className="iScrollIndicator";if(D=="h"){if(C===true){A.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";E.style.height="100%"}A.className="iScrollHorizontalScrollbar"}else{if(C===true){A.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";E.style.width="100%"}A.className="iScrollVerticalScrollbar"}A.style.cssText+=";overflow:hidden";if(!B){A.style.pointerEvents="none"}A.appendChild(E);return A}function P(C,A){this.wrapper=typeof A.el=="string"?J.querySelector(A.el):A.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=C;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var B in A){this.options[B]=A[B]}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){L.addEvent(this.indicator,"touchstart",this);L.addEvent(K,"touchend",this)}if(!this.options.disablePointer){L.addEvent(this.indicator,L.prefixPointerEvent("pointerdown"),this);L.addEvent(K,L.prefixPointerEvent("pointerup"),this)}if(!this.options.disableMouse){L.addEvent(this.indicator,"mousedown",this);L.addEvent(K,"mouseup",this)}}if(this.options.fade){this.wrapperStyle[L.style.transform]=this.scroller.translateZ;this.wrapperStyle[L.style.transitionDuration]=L.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0"}}P.prototype={handleEvent:function(A){switch(A.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(A);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(A);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(A);break}},destroy:function(){if(this.options.interactive){L.removeEvent(this.indicator,"touchstart",this);L.removeEvent(this.indicator,L.prefixPointerEvent("pointerdown"),this);L.removeEvent(this.indicator,"mousedown",this);L.removeEvent(K,"touchmove",this);L.removeEvent(K,L.prefixPointerEvent("pointermove"),this);L.removeEvent(K,"mousemove",this);L.removeEvent(K,"touchend",this);L.removeEvent(K,L.prefixPointerEvent("pointerup"),this);L.removeEvent(K,"mouseup",this)}if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper)}},_start:function(A){var B=A.touches?A.touches[0]:A;A.preventDefault();A.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=B.pageX;this.lastPointY=B.pageY;this.startTime=L.getTime();if(!this.options.disableTouch){L.addEvent(K,"touchmove",this)}if(!this.options.disablePointer){L.addEvent(K,L.prefixPointerEvent("pointermove"),this)}if(!this.options.disableMouse){L.addEvent(K,"mousemove",this)}this.scroller._execEvent("beforeScrollStart")},_move:function(A){var E=A.touches?A.touches[0]:A,C,F,G,D,B=L.getTime();if(!this.moved){this.scroller._execEvent("scrollStart")}this.moved=true;C=E.pageX-this.lastPointX;this.lastPointX=E.pageX;F=E.pageY-this.lastPointY;this.lastPointY=E.pageY;G=this.x+C;D=this.y+F;this._pos(G,D);if(this.scroller.options.probeType==1&&B-this.startTime>300){this.startTime=B;this.scroller._execEvent("scroll")}else{if(this.scroller.options.probeType>1){this.scroller._execEvent("scroll")}}A.preventDefault();A.stopPropagation()},_end:function(B){if(!this.initiated){return}this.initiated=false;B.preventDefault();B.stopPropagation();L.removeEvent(K,"touchmove",this);L.removeEvent(K,L.prefixPointerEvent("pointermove"),this);L.removeEvent(K,"mousemove",this);if(this.scroller.options.snap){var C=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var A=this.options.snapSpeed||O.max(O.max(O.min(O.abs(this.scroller.x-C.x),1000),O.min(O.abs(this.scroller.y-C.y),1000)),300);if(this.scroller.x!=C.x||this.scroller.y!=C.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=C;this.scroller.scrollTo(C.x,C.y,A,this.scroller.options.bounceEasing)}}if(this.moved){this.scroller._execEvent("scrollEnd")}},transitionTime:function(A){A=A||0;this.indicatorStyle[L.style.transitionDuration]=A+"ms";if(!A&&L.isBadAndroid){this.indicatorStyle[L.style.transitionDuration]="0.001s"}},transitionTimingFunction:function(A){this.indicatorStyle[L.style.transitionTimingFunction]=A},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none"}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none"}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none"}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){L.addClass(this.wrapper,"iScrollBothScrollbars");L.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px"}else{this.wrapper.style.bottom="8px"}}}else{L.removeClass(this.wrapper,"iScrollBothScrollbars");L.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px"}else{this.wrapper.style.bottom="2px"}}}var A=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=O.max(O.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px"}else{this.indicatorWidth=this.indicator.clientWidth}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=="clip"){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX))}if(this.options.listenY){this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=O.max(O.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px"}else{this.indicatorHeight=this.indicator.clientHeight}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY))}this.updatePosition()},updatePosition:function(){var A=this.options.listenX&&O.round(this.sizeRatioX*this.scroller.x)||0,B=this.options.listenY&&O.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(A<this.minBoundaryX){if(this.options.shrink=="scale"){this.width=O.max(this.indicatorWidth+A,8);this.indicatorStyle.width=this.width+"px"}A=this.minBoundaryX}else{if(A>this.maxBoundaryX){if(this.options.shrink=="scale"){this.width=O.max(this.indicatorWidth-(A-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";A=this.maxPosX+this.indicatorWidth-this.width}else{A=this.maxBoundaryX}}else{if(this.options.shrink=="scale"&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px"}}}if(B<this.minBoundaryY){if(this.options.shrink=="scale"){this.height=O.max(this.indicatorHeight+B*3,8);this.indicatorStyle.height=this.height+"px"}B=this.minBoundaryY}else{if(B>this.maxBoundaryY){if(this.options.shrink=="scale"){this.height=O.max(this.indicatorHeight-(B-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";B=this.maxPosY+this.indicatorHeight-this.height}else{B=this.maxBoundaryY}}else{if(this.options.shrink=="scale"&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px"}}}}this.x=A;this.y=B;if(this.scroller.options.useTransform){this.indicatorStyle[L.style.transform]="translate("+A+"px,"+B+"px)"+this.scroller.translateZ}else{this.indicatorStyle.left=A+"px";this.indicatorStyle.top=B+"px"}},_pos:function(A,B){if(A<0){A=0}else{if(A>this.maxPosX){A=this.maxPosX}}if(B<0){B=0}else{if(B>this.maxPosY){B=this.maxPosY}}A=this.options.listenX?O.round(A/this.sizeRatioX):this.scroller.x;B=this.options.listenY?O.round(B/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(A,B)},fade:function(A,D){if(D&&!this.visible){return}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var B=A?250:500,C=A?0:300;A=A?"1":"0";this.wrapperStyle[L.style.transitionDuration]=B+"ms";this.fadeTimeout=setTimeout((function(E){this.wrapperStyle.opacity=E;this.visible=+E}).bind(this,A),C)}};M.utils=L;if(typeof module!="undefined"&&module.exports){module.exports=M}else{K.IScroll=M}})(window,document,Math);