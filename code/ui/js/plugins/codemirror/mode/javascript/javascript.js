(function(B){if(typeof exports=="object"&&typeof module=="object"){B(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],B)}else{B(CodeMirror)}}})(function(B){B.defineMode("javascript",function(AG,BI){var BH=AG.indentUnit;var AX=BI.statementIndent;var BE=BI.jsonld;var Bp=BI.json||BE;var BO=BI.typescript;var Br=BI.wordCharacters||/[\w$\xa1-\uffff]/;var AN=function(){function J(M){return{type:M,style:"keyword"}}var L=J("keyword a"),C=J("keyword b"),K=J("keyword c");var E=J("operator"),H={type:"atom",style:"atom"};var I={"if":J("if"),"while":L,"with":L,"else":C,"do":C,"try":C,"finally":C,"return":K,"break":K,"continue":K,"new":K,"delete":K,"throw":K,"debugger":K,"var":J("var"),"const":J("var"),"let":J("var"),"function":J("function"),"catch":J("catch"),"for":J("for"),"switch":J("switch"),"case":J("case"),"default":J("default"),"in":E,"typeof":E,"instanceof":E,"true":H,"false":H,"null":H,"undefined":H,"NaN":H,"Infinity":H,"this":J("this"),"module":J("module"),"class":J("class"),"super":J("atom"),"yield":K,"export":J("export"),"import":J("import"),"extends":K};if(BO){var F={type:"variable",style:"variable-3"};var G={"interface":J("interface"),"extends":J("extends"),"constructor":J("constructor"),"public":J("public"),"private":J("private"),"protected":J("protected"),"static":J("static"),"string":F,"number":F,"bool":F,"any":F};for(var D in G){I[D]=G[D]}}return I}();var BM=/[+\-*&%=<>!?|~^]/;var BA=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function AJ(C){var E=false,D,F=false;while((D=C.next())!=null){if(!E){if(D=="/"&&!F){return}if(D=="["){F=true}else{if(F&&D=="]"){F=false}}}E=!E&&D=="\\"}}var BD,AV;function BB(E,D,C){BD=E;AV=C;return D}function Bq(E,G){var F=E.next();if(F=='"'||F=="'"){G.tokenize=Bl(F);return G.tokenize(E,G)}else{if(F=="."&&E.match(/^\d+(?:[eE][+\-]?\d+)?/)){return BB("number","number")}else{if(F=="."&&E.match("..")){return BB("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(F)){return BB(F)}else{if(F=="="&&E.eat(">")){return BB("=>","operator")}else{if(F=="0"&&E.eat(/x/i)){E.eatWhile(/[\da-f]/i);return BB("number","number")}else{if(/\d/.test(F)){E.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return BB("number","number")}else{if(F=="/"){if(E.eat("*")){G.tokenize=AQ;return AQ(E,G)}else{if(E.eat("/")){E.skipToEnd();return BB("comment","comment")}else{if(G.lastType=="operator"||G.lastType=="keyword c"||G.lastType=="sof"||/^[\[{}\(,;:]$/.test(G.lastType)){AJ(E);E.eatWhile(/[gimy]/);return BB("regexp","string-2")}else{E.eatWhile(BM);return BB("operator","operator",E.current())}}}}else{if(F=="`"){G.tokenize=Bu;return Bu(E,G)}else{if(F=="#"){E.skipToEnd();return BB("error","error")}else{if(BM.test(F)){E.eatWhile(BM);return BB("operator","operator",E.current())}else{if(Br.test(F)){E.eatWhile(Br);var C=E.current(),D=AN.propertyIsEnumerable(C)&&AN[C];return(D&&G.lastType!=".")?BB(D.type,D.style,C):BB("variable","variable",C)}}}}}}}}}}}}}function Bl(C){return function(E,G){var F=false,D;if(BE&&E.peek()=="@"&&E.match(BA)){G.tokenize=Bq;return BB("jsonld-keyword","meta")}while((D=E.next())!=null){if(D==C&&!F){break}F=!F&&D=="\\"}if(!F){G.tokenize=Bq}return BB("string","string")}}function AQ(C,E){var F=false,D;while(D=C.next()){if(D=="/"&&F){E.tokenize=Bq;break}F=(D=="*")}return BB("comment","comment")}function Bu(C,E){var D=false,F;while((F=C.next())!=null){if(!D&&(F=="`"||F=="$"&&C.eat("{"))){E.tokenize=Bq;break}D=!D&&F=="\\"}return BB("quasi","string-2",C.current())}var BS="([{}])";function BQ(F,C){if(C.fatArrowAt){C.fatArrowAt=null}var J=F.string.indexOf("=>",F.start);if(J<0){return}var G=0,H=false;for(var E=J-1;E>=0;--E){var I=F.string.charAt(E);var D=BS.indexOf(I);if(D>=0&&D<3){if(!G){++E;break}if(--G==0){break}}else{if(D>=3&&D<6){++G}else{if(Br.test(I)){H=true}else{if(/["'\/]/.test(I)){return}else{if(H&&!G){++E;break}}}}}}if(H&&!G){C.fatArrowAt=E}}var Bs={"atom":true,"number":true,"variable":true,"string":true,"regexp":true,"this":true,"jsonld-keyword":true};function A3(F,E,D,H,G,C){this.indented=F;this.column=E;this.type=D;this.prev=G;this.info=C;if(H!=null){this.align=H}}function AY(C,D){for(var E=C.localVars;E;E=E.next){if(E.name==D){return true}}for(var F=C.context;F;F=F.prev){for(var E=F.vars;E;E=E.next){if(E.name==D){return true}}}}function A5(H,C,D,E,I){var G=H.cc;Bb.state=H;Bb.stream=I;Bb.marked=null,Bb.cc=G;Bb.style=C;if(!H.lexical.hasOwnProperty("align")){H.lexical.align=true}while(true){var F=G.length?G.pop():Bp?BC:A1;if(F(D,E)){while(G.length&&G[G.length-1].lex){G.pop()()}if(Bb.marked){return Bb.marked}if(D=="variable"&&AY(H,E)){return"variable-2"}return C}}}var Bb={state:null,column:null,marked:null,cc:null};function AS(){for(var C=arguments.length-1;C>=0;C--){Bb.cc.push(arguments[C])}}function Bd(){AS.apply(null,arguments);return true}function Bh(C){function D(G){for(var F=G;F;F=F.next){if(F.name==C){return true}}return false}var E=Bb.state;if(E.context){Bb.marked="def";if(D(E.localVars)){return}E.localVars={name:C,next:E.localVars}}else{if(D(E.globalVars)){return}if(BI.globalVars){E.globalVars={name:C,next:E.globalVars}}}}var Be={name:"this",next:{name:"arguments"}};function Bi(){Bb.state.context={prev:Bb.state.context,vars:Bb.state.localVars};Bb.state.localVars=Be}function AZ(){Bb.state.localVars=Bb.state.context.vars;Bb.state.context=Bb.state.context.prev}function Bn(C,E){var D=function(){var H=Bb.state,G=H.indented;if(H.lexical.type=="stat"){G=H.lexical.indented}else{for(var F=H.lexical;F&&F.type==")"&&F.align;F=F.prev){G=F.indented}}H.lexical=new A3(G,Bb.stream.column(),C,null,H.lexical,E)};D.lex=true;return D}function AT(){var C=Bb.state;if(C.lexical.prev){if(C.lexical.type==")"){C.indented=C.lexical.indented}C.lexical=C.lexical.prev}}AT.lex=true;function BT(D){function C(E){if(E==D){return Bd()}else{if(D==";"){return AS()}else{return Bd(C)}}}return C}function A1(C,D){if(C=="var"){return Bd(Bn("vardef",D.length),Bt,BT(";"),AT)}if(C=="keyword a"){return Bd(Bn("form"),BC,A1,AT)}if(C=="keyword b"){return Bd(Bn("form"),A1,AT)}if(C=="{"){return Bd(Bn("}"),Bk,AT)}if(C==";"){return Bd()}if(C=="if"){if(Bb.state.lexical.info=="else"&&Bb.state.cc[Bb.state.cc.length-1]==AT){Bb.state.cc.pop()()}return Bd(Bn("form"),BC,A1,AT,BV)}if(C=="function"){return Bd(Bc)}if(C=="for"){return Bd(Bn("form"),Bz,A1,AT)}if(C=="variable"){return Bd(Bn("stat"),Bj)}if(C=="switch"){return Bd(Bn("form"),BC,Bn("}","switch"),BT("{"),Bk,AT,AT)}if(C=="case"){return Bd(BC,BT(":"))}if(C=="default"){return Bd(BT(":"))}if(C=="catch"){return Bd(Bn("form"),Bi,BT("("),Bw,BT(")"),A1,AT,AZ)}if(C=="module"){return Bd(Bn("form"),Bi,AM,AZ,AT)}if(C=="class"){return Bd(Bn("form"),Bf,AT)}if(C=="export"){return Bd(Bn("form"),BW,AT)}if(C=="import"){return Bd(Bn("form"),AR,AT)}return AS(Bn("stat"),BC,BT(";"),AT)}function BC(C){return By(C,false)}function AU(C){return By(C,true)}function By(D,C){if(Bb.state.fatArrowAt==Bb.stream.start){var E=C?A7:AO;if(D=="("){return Bd(Bi,Bn(")"),BX(A,")"),AT,BT("=>"),E,AZ)}else{if(D=="variable"){return AS(Bi,A,BT("=>"),E,AZ)}}}var F=C?BJ:BR;if(Bs.hasOwnProperty(D)){return Bd(F)}if(D=="function"){return Bd(Bc,F)}if(D=="keyword c"){return Bd(C?Bv:BY)}if(D=="("){return Bd(Bn(")"),BY,A6,BT(")"),AT,F)}if(D=="operator"||D=="spread"){return Bd(C?AU:BC)}if(D=="["){return Bd(Bn("]"),A4,AT,F)}if(D=="{"){return BF(AL,"}",null,F)}if(D=="quasi"){return AS(A0,F)}return Bd()}function BY(C){if(C.match(/[;\}\)\],]/)){return AS()}return AS(BC)}function Bv(C){if(C.match(/[;\}\)\],]/)){return AS()}return AS(AU)}function BR(C,D){if(C==","){return Bd(BC)}return BJ(C,D,false)}function BJ(D,C,E){var G=E==false?BR:BJ;var F=E==false?BC:AU;if(D=="=>"){return Bd(Bi,E?A7:AO,AZ)}if(D=="operator"){if(/\+\+|--/.test(C)){return Bd(G)}if(C=="?"){return Bd(BC,BT(":"),F)}return Bd(F)}if(D=="quasi"){return AS(A0,G)}if(D==";"){return}if(D=="("){return BF(AU,")","call",G)}if(D=="."){return Bd(Bx,G)}if(D=="["){return Bd(Bn("]"),BY,BT("]"),AT,G)}}function A0(C,D){if(C!="quasi"){return AS()}if(D.slice(D.length-2)!="${"){return Bd(A0)}return Bd(BC,AW)}function AW(C){if(C=="}"){Bb.marked="string-2";Bb.state.tokenize=Bu;return Bd(A0)}}function AO(C){BQ(Bb.stream,Bb.state);return AS(C=="{"?A1:BC)}function A7(C){BQ(Bb.stream,Bb.state);return AS(C=="{"?A1:AU)}function Bj(C){if(C==":"){return Bd(AT,A1)}return AS(BR,BT(";"),AT)}function Bx(C){if(C=="variable"){Bb.marked="property";return Bd()}}function AL(C,D){if(C=="variable"||Bb.style=="keyword"){Bb.marked="property";if(D=="get"||D=="set"){return Bd(BL)}return Bd(A8)}else{if(C=="number"||C=="string"){Bb.marked=BE?"property":(Bb.style+" property");return Bd(A8)}else{if(C=="jsonld-keyword"){return Bd(A8)}else{if(C=="["){return Bd(BC,BT("]"),A8)}}}}}function BL(C){if(C!="variable"){return AS(A8)}Bb.marked="property";return Bd(Bc)}function A8(C){if(C==":"){return Bd(AU)}if(C=="("){return AS(Bc)}}function BX(E,D){function C(F){if(F==","){var G=Bb.state.lexical;if(G.info=="call"){G.pos=(G.pos||0)+1}return Bd(E,C)}if(F==D){return Bd()}return Bd(BT(D))}return function(F){if(F==D){return Bd()}return AS(E,C)}}function BF(F,E,C){for(var D=3;D<arguments.length;D++){Bb.cc.push(arguments[D])}return Bd(Bn(E,C),BX(F,E),AT)}function Bk(C){if(C=="}"){return Bd()}return AS(A1,Bk)}function Ba(C){if(BO&&C==":"){return Bd(AA)}}function AA(C){if(C=="variable"){Bb.marked="variable-3";return Bd()}}function Bt(){return AS(A,Ba,BK,A2)}function A(C,D){if(C=="variable"){Bh(D);return Bd()}if(C=="["){return BF(A,"]")}if(C=="{"){return BF(Bm,"}")}}function Bm(C,D){if(C=="variable"&&!Bb.stream.match(/^\s*:/,false)){Bh(D);return Bd(BK)}if(C=="variable"){Bb.marked="property"}return Bd(BT(":"),A,BK)}function BK(C,D){if(D=="="){return Bd(AU)}}function A2(C){if(C==","){return Bd(Bt)}}function BV(C,D){if(C=="keyword b"&&D=="else"){return Bd(Bn("form","else"),A1,AT)}}function Bz(C){if(C=="("){return Bd(Bn(")"),BP,BT(")"),AT)}}function BP(C){if(C=="var"){return Bd(Bt,BT(";"),AH)}if(C==";"){return Bd(AH)}if(C=="variable"){return Bd(BU)}return AS(BC,BT(";"),AH)}function BU(C,D){if(D=="in"||D=="of"){Bb.marked="keyword";return Bd(BC)}return Bd(BR,AH)}function AH(C,D){if(C==";"){return Bd(AK)}if(D=="in"||D=="of"){Bb.marked="keyword";return Bd(BC)}return AS(BC,BT(";"),AK)}function AK(C){if(C!=")"){Bd(BC)}}function Bc(C,D){if(D=="*"){Bb.marked="keyword";return Bd(Bc)}if(C=="variable"){Bh(D);return Bd(Bc)}if(C=="("){return Bd(Bi,Bn(")"),BX(Bw,")"),AT,A1,AZ)}}function Bw(C){if(C=="spread"){return Bd(Bw)}return AS(A,Ba)}function Bf(C,D){if(C=="variable"){Bh(D);return Bd(Bg)}}function Bg(C,D){if(D=="extends"){return Bd(BC,Bg)}if(C=="{"){return Bd(Bn("}"),AI,AT)}}function AI(C,D){if(C=="variable"||Bb.style=="keyword"){Bb.marked="property";if(D=="get"||D=="set"){return Bd(AP,Bc,AI)}return Bd(Bc,AI)}if(D=="*"){Bb.marked="keyword";return Bd(AI)}if(C==";"){return Bd(AI)}if(C=="}"){return Bd()}}function AP(C){if(C!="variable"){return AS()}Bb.marked="property";return Bd()}function AM(C,D){if(C=="string"){return Bd(A1)}if(C=="variable"){Bh(D);return Bd(BG)}}function BW(C,D){if(D=="*"){Bb.marked="keyword";return Bd(BG,BT(";"))}if(D=="default"){Bb.marked="keyword";return Bd(BC,BT(";"))}return AS(A1)}function AR(C){if(C=="string"){return Bd()}return AS(A9,BG)}function A9(C,D){if(C=="{"){return BF(A9,"}")}if(C=="variable"){Bh(D)}return Bd()}function BG(C,D){if(D=="from"){Bb.marked="keyword";return Bd(BC)}}function A4(C){if(C=="]"){return Bd()}return AS(AU,Bo)}function Bo(C){if(C=="for"){return AS(A6,BT("]"))}if(C==","){return Bd(BX(Bv,"]"))}return AS(BX(AU,"]"))}function A6(C){if(C=="for"){return Bd(Bz,A6)}if(C=="if"){return Bd(BC,A6)}}function BN(D,C){return D.lastType=="operator"||D.lastType==","||BM.test(C.charAt(0))||/[,.]/.test(C.charAt(0))}return{startState:function(C){var D={tokenize:Bq,lastType:"sof",cc:[],lexical:new A3((C||0)-BH,0,"block",false),localVars:BI.localVars,context:BI.localVars&&{vars:BI.localVars},indented:0};if(BI.globalVars&&typeof BI.globalVars=="object"){D.globalVars=BI.globalVars}return D},token:function(E,D){if(E.sol()){if(!D.lexical.hasOwnProperty("align")){D.lexical.align=false}D.indented=E.indentation();BQ(E,D)}if(D.tokenize!=AQ&&E.eatSpace()){return null}var C=D.tokenize(E,D);if(BD=="comment"){return C}D.lastType=BD=="operator"&&(AV=="++"||AV=="--")?"incdec":BD;return A5(D,C,BD,AV,E)},indent:function(C,F){if(C.tokenize==AQ){return B.Pass}if(C.tokenize!=Bq){return 0}var E=F&&F.charAt(0),J=C.lexical;if(!/^\s*else\b/.test(F)){for(var I=C.cc.length-1;I>=0;--I){var H=C.cc[I];if(H==AT){J=J.prev}else{if(H!=BV){break}}}}if(J.type=="stat"&&E=="}"){J=J.prev}if(AX&&J.type==")"&&J.prev.type=="stat"){J=J.prev}var D=J.type,G=E==D;if(D=="vardef"){return J.indented+(C.lastType=="operator"||C.lastType==","?J.info+1:0)}else{if(D=="form"&&E=="{"){return J.indented}else{if(D=="form"){return J.indented+BH}else{if(D=="stat"){return J.indented+(BN(C,F)?AX||BH:0)}else{if(J.info=="switch"&&!G&&BI.doubleIndentSwitch!=false){return J.indented+(/^(?:case|default)\b/.test(F)?BH:2*BH)}else{if(J.align){return J.column+(G?0:1)}else{return J.indented+(G?0:BH)}}}}}}},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:Bp?null:"/*",blockCommentEnd:Bp?null:"*/",lineComment:Bp?null:"//",fold:"brace",helperType:Bp?"json":"javascript",jsonldMode:BE,jsonMode:Bp}});B.registerHelper("wordChars","javascript",/[\w$]/);B.defineMIME("text/javascript","javascript");B.defineMIME("text/ecmascript","javascript");B.defineMIME("application/javascript","javascript");B.defineMIME("application/x-javascript","javascript");B.defineMIME("application/ecmascript","javascript");B.defineMIME("application/json",{name:"javascript",json:true});B.defineMIME("application/x-json",{name:"javascript",json:true});B.defineMIME("application/ld+json",{name:"javascript",jsonld:true});B.defineMIME("text/typescript",{name:"javascript",typescript:true});B.defineMIME("application/typescript",{name:"javascript",typescript:true})});